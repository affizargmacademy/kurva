<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>Kurva — Project Detail</title>
  <meta name="description" content="Detail project Kurva: hunian modern dengan material premium, layout efisien, dan kenyamanan maksimal." />

  <!-- Author + Keywords -->
  <meta name="author" content="Muhammad Affizar Ibrahim Alkautsar" />
  <meta name="keywords" content="Muhammad Affizar Ibrahim Alkautsar, Kurva, detail project, rumah modern, arsitektur, properti, real estate, interior" />

  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
  <link id="canon" rel="canonical" href="https://example.com/detail.html" />

  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />

  <!-- Performance hints -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin />
  <link rel="dns-prefetch" href="https://images.unsplash.com" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Open Graph -->
  <meta property="og:site_name" content="Kurva" />
  <meta property="og:title" content="Kurva — Project Detail" />
  <meta property="og:description" content="Detail project Kurva: hunian modern dengan material premium, layout efisien, dan kenyamanan maksimal." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://example.com/detail.html" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1200&q=80" />
  <meta property="og:locale" content="id_ID" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Kurva — Project Detail" />
  <meta name="twitter:description" content="Detail project Kurva: hunian modern dengan material premium, layout efisien, dan kenyamanan maksimal." />
  <meta name="twitter:image" content="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1200&q=80" />

  <!-- Favicon pack -->
  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="icon" href="/assets/favicons/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="apple-mobile-web-app-title" content="Kurva" />
  <meta name="application-name" content="Kurva" />
  <meta name="msapplication-TileColor" content="#000000" />

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    crossorigin="anonymous"
  />

  <!-- Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    crossorigin="anonymous"
  />

  <!-- Structured Data placeholder (akan diupdate via JS) -->
  <script id="ldjson" type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SingleFamilyResidence",
    "name":"Project Detail",
    "description":"Detail project Kurva.",
    "address":{"@type":"PostalAddress","addressLocality":"-","addressRegion":"-","addressCountry":"US"},
    "floorSize":{"@type":"QuantitativeValue","value":0,"unitText":"SQFT"},
    "numberOfRooms":0
  }
  </script>

  <!-- Global theme (dark) — SAME system as your pages -->
  <style>
    :root{
      --bg:#000;
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.62);
      --muted2:rgba(255,255,255,.42);
      --line:rgba(255,255,255,.10);
      --line2:rgba(255,255,255,.16);
      --shadow:0 18px 50px rgba(0,0,0,.55);
      --r-xl:22px;
      --r-lg:18px;
      --r-md:14px;
      --ease:cubic-bezier(.2,.8,.2,1);
      --ease2:cubic-bezier(.16,1,.3,1);
      --font-ui:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      --font-display:"Montserrat",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    html{ scroll-behavior:smooth; }
    body{
      font-family:var(--font-ui);
      background:var(--bg);
      color:var(--text);
      overflow-x:hidden;
      margin:0;
      padding-top:0 !important;
    }
    a{ color:inherit; text-decoration:none; }
    .container{ max-width:1180px; }
    .soft-line{ border-top:1px solid var(--line); }
    .btn-pill{
      border-radius:999px;
      padding:.65rem 1rem;
      border:1px solid var(--line2);
      background:rgba(255,255,255,.06);
      color:var(--text);
      transition: transform .2s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
    }
    .btn-pill:hover{ transform: translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(255,255,255,.22); }
    .btn-pill:focus{ outline:none; box-shadow:0 0 0 .25rem rgba(255,255,255,.12); }

    .k-brand{
      display:flex; align-items:center; gap:.6rem;
      letter-spacing:.2px;
      font-family:var(--font-display);
      font-weight:400;
    }
    .k-mark{
      width:18px; height:18px; border-radius:6px;
      border:1px solid rgba(255,255,255,.24);
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), rgba(255,255,255,.02));
      box-shadow:0 0 0 1px rgba(255,255,255,.06) inset;
    }

    .reveal{ opacity:0; transform: translateY(14px); transition: opacity .8s var(--ease2), transform .8s var(--ease2); }
    .reveal.is-in{ opacity:1; transform:none; }

    header{ margin-top:0 !important; }
    footer{ padding-bottom:4rem; }

    /* Page */
    .page-hero{ padding-top: 28px !important; padding-bottom: 12px !important; }
    .title{
      font-family: var(--font-display);
      font-weight:300;
      letter-spacing:.2px;
      font-size: clamp(38px, 4.2vw, 62px);
      line-height:1.05;
      margin: 0 0 10px;
    }
    .meta{
      color: rgba(255,255,255,.62);
      font-size: 12px;
      display:flex;
      flex-wrap:wrap;
      gap: 10px 16px;
      align-items:center;
      margin: 0 0 14px;
    }
    .meta .m{ display:flex; align-items:center; gap:8px; }
    .lead{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.9;
      max-width: 92ch;
      margin:0;
    }

    /* Gallery */
    .gallery-main{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      box-shadow: 0 22px 70px rgba(0,0,0,.55);
      position:relative;
    }
    .gallery-main img{ width:100%; height:auto; display:block; object-fit:cover; }
    .gallery-caption{
      padding: 10px 14px;
      color: rgba(255,255,255,.52);
      font-size: 12px;
      border-top: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
    }
    .thumb-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 10px;
      margin-top: 10px;
    }
    @media (max-width: 991px){
      .thumb-grid{ grid-template-columns: repeat(2, 1fr); }
    }
    .thumb{
      border-radius: 14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      aspect-ratio: 16/10;
      cursor:pointer;
      transition: transform .2s var(--ease), border-color .2s var(--ease);
      position:relative;
    }
    .thumb:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.22); }
    .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
    .thumb.active{
      outline: 2px solid rgba(255,255,255,.22);
      outline-offset: 2px;
    }

    /* Spec cards */
    .spec-card{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding: 14px;
    }
    .spec-title{
      font-family: var(--font-display);
      font-weight:300;
      letter-spacing:.2px;
      font-size: 20px;
      margin:0 0 10px;
    }
    .spec-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px 14px;
    }
    .spec{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      color: rgba(255,255,255,.76);
      font-size: 12.5px;
      line-height: 1.6;
    }
    .spec i{
      width: 18px;
      color: rgba(255,255,255,.70);
      margin-top: 2px;
    }
    .spec span{ color: rgba(255,255,255,.86); font-weight:500; }

    /* Content typography */
    .sec-h{
      font-family: var(--font-display);
      font-weight:300;
      letter-spacing:.2px;
      font-size: 26px;
      margin: 0 0 12px;
    }
    .p{
      color: rgba(255,255,255,.74);
      font-size: 13px;
      line-height: 2;
      margin: 0 0 14px;
      max-width: 92ch;
    }
    .bullets{
      color: rgba(255,255,255,.74);
      font-size: 13px;
      line-height: 2;
      margin: 0 0 10px 18px;
      max-width: 92ch;
    }
    .bullets li{ margin-bottom: 8px; }

    figure.support{
      margin: 16px 0 0;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.02);
      overflow:hidden;
      border-radius: 18px;
    }
    figure.support img{ width:100%; height:auto; display:block; object-fit:cover; }
    figure.support figcaption{
      padding: 10px 14px;
      color: rgba(255,255,255,.52);
      font-size: 12px;
      border-top: 1px solid rgba(255,255,255,.08);
    }

    /* Map */
    .map-wrap{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      box-shadow: 0 18px 55px rgba(0,0,0,.45);
    }
    .map-wrap iframe{
      width:100%;
      height: 340px;
      border:0;
      display:block;
      filter: grayscale(1) contrast(1.05) brightness(.95);
    }

    /* FAQ accordion */
    .accordion-dark .accordion-item{
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      overflow:hidden;
      margin-bottom: 10px;
    }
    .accordion-dark .accordion-button{
      background: transparent;
      color: rgba(255,255,255,.90);
      border:0;
      box-shadow:none;
      padding: 1.05rem 1.1rem;
      font-weight:500;
      font-size: 13px;
    }
    .accordion-dark .accordion-button:not(.collapsed){
      background: rgba(255,255,255,.06);
    }
    .accordion-dark .accordion-button::after{
      filter: invert(1) opacity(.75);
    }
    .accordion-dark .accordion-body{
      color: rgba(255,255,255,.68);
      padding: 0 1.1rem 1.1rem;
      font-size: 12.5px;
      line-height: 1.8;
    }

    /* Related cards */
    .mini-card{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      transition: transform .25s var(--ease), border-color .25s var(--ease);
      height: 100%;
    }
    .mini-card:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.22); }
    .mini-img{ aspect-ratio: 16 / 9; overflow:hidden; border-bottom:1px solid rgba(255,255,255,.08); }
    .mini-img img{ width:100%; height:100%; object-fit:cover; display:block; }
    .mini-body{ padding: 12px 14px 14px; }
    .mini-title{ margin:0 0 6px; font-weight:600; font-size: 13px; color: rgba(255,255,255,.88); line-height:1.5; }
    .mini-desc{ margin:0 0 10px; color: rgba(255,255,255,.62); font-size: 12px; line-height:1.7; }

    /* Lightbox modal image */
    .lb-img{
      width:100%;
      height:auto;
      display:block;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
    }

    /* Small utility */
    .badge-soft{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.85);
      border-radius: 999px;
      font-size: 11px;
      padding: .35rem .55rem;
    }
  </style>
</head>

<body>

  <!-- NAVBAR (SAMA seperti index.html) -->
  <header class="position-sticky top-0 z-3" style="background:rgba(0,0,0,.72); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-bottom:1px solid rgba(255,255,255,.08);">
    <div class="container py-3 d-flex align-items-center justify-content-between">
      <a href="index.html#home" class="k-brand" aria-label="Go to Home">
        <span class="k-mark" aria-hidden="true"></span>
        <span>Kurva</span>
      </a>

      <div class="d-flex align-items-center gap-2">
        <a href="index.html#contact" class="btn btn-pill d-none d-md-inline-flex">Contact Us</a>
        <button id="menuBtn" class="btn btn-pill d-inline-flex align-items-center gap-2" type="button" aria-label="Open menu" aria-controls="overlayNav" aria-expanded="false">
          <span class="d-none d-sm-inline">Menu</span>
          <i class="bi bi-list fs-5"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- OVERLAY NAV (SAMA seperti index.html) -->
  <div id="overlayNav" class="overlay-nav" aria-hidden="true">
    <div class="container h-100 d-flex flex-column">
      <div class="d-flex align-items-center justify-content-between py-4">
        <a href="index.html#home" class="k-brand" data-close aria-label="Go to Home">
          <span class="k-mark" aria-hidden="true"></span>
          <span>Kurva</span>
        </a>
        <div class="d-flex align-items-center gap-2">
          <a href="index.html#contact" class="btn btn-pill">Contact Us</a>
          <button id="closeBtn" class="btn btn-pill" type="button" aria-label="Close menu" data-close>
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
      </div>

      <div class="flex-grow-1 d-flex align-items-center justify-content-center">
        <nav class="text-center overlay-links">
          <a class="overlay-link" href="index.html" data-close>Home</a>
          <a class="overlay-link" href="about.html" data-close>About Us</a>
          <a class="overlay-link" href="projects.html" data-close>Our Projects</a>
          <a class="overlay-link" href="blog.html" data-close>Blog</a>
        </nav>
      </div>

      <div class="pb-4 text-center text-white-50 small">
        <span>© <span id="yearNow"></span> Kurva. Crafted for performance & SEO.</span>
      </div>
    </div>
  </div>

  <style>
    .overlay-nav{
      position:fixed; inset:0;
      background:rgba(0,0,0,.92);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      opacity:0; pointer-events:none;
      transition: opacity .28s var(--ease);
      z-index: 9999;
    }
    .overlay-nav.open{ opacity:1; pointer-events:auto; }
    .overlay-links{
      display:flex; flex-direction:column; gap:34px;
      font-family: var(--font-display);
      letter-spacing:.4px;
    }
    .overlay-link{
      font-size: clamp(34px, 5vw, 56px);
      font-weight:300;
      color: rgba(255,255,255,.90);
      transition: transform .22s var(--ease), opacity .22s var(--ease);
    }
    .overlay-link:hover{ transform: translateY(-2px); opacity: .95; }
  </style>

  <main>
    <!-- HERO -->
    <section class="container page-hero">
      <div class="soft-line mb-4" style="opacity:.75"></div>

      <div class="row g-4 align-items-start">
        <div class="col-lg-7 reveal">
          <h1 class="title" id="pTitle">Project Title</h1>
          <div class="meta" id="pMeta"></div>
          <p class="lead" id="pLead"></p>

          <div class="d-flex flex-wrap gap-2 mt-3">
            <a class="btn btn-pill" href="#gallery"><i class="bi bi-images me-2"></i>View Gallery</a>
            <a class="btn btn-pill" href="#specs"><i class="bi bi-clipboard-check me-2"></i>Specifications</a>
            <a class="btn btn-pill" id="waBtnTop" href="#" target="_blank" rel="noopener">
              <i class="bi bi-whatsapp me-2"></i>Chat via WhatsApp
            </a>
          </div>
        </div>

        <div class="col-lg-5 reveal">
          <div class="spec-card">
            <div class="spec-title">Quick Facts</div>
            <div class="spec-grid" id="pQuickFacts"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section class="container py-4" id="gallery">
      <div class="soft-line mb-4"></div>

      <div class="row g-4 align-items-start">
        <div class="col-lg-8 reveal">
          <div class="gallery-main" role="button" tabindex="0" aria-label="Open image in lightbox" id="mainOpen">
            <img
              id="mainImg"
              src=""
              alt=""
              decoding="async"
              fetchpriority="high"
            />
            <div class="gallery-caption" id="mainCaption"></div>
          </div>

          <div class="thumb-grid" aria-label="Gallery thumbnails" id="thumbGrid"></div>
        </div>

        <div class="col-lg-4 reveal">
          <div class="spec-card" id="specs">
            <div class="spec-title">Specifications</div>
            <div class="spec-grid" id="pSpecs"></div>
          </div>

          <div class="spec-card mt-3">
            <div class="spec-title">Highlights</div>
            <ul class="bullets mb-0" id="pHighlights"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- OVERVIEW -->
    <section class="container py-5">
      <div class="soft-line mb-4"></div>
      <div class="row g-4 align-items-start">
        <div class="col-lg-5 reveal">
          <h2 class="sec-h">Overview</h2>
        </div>
        <div class="col-lg-7 reveal">
          <p class="p" id="pOverview1"></p>
          <p class="p mb-0" id="pOverview2"></p>

          <figure class="support">
            <img id="pSupportImg" src="" alt="" loading="lazy" decoding="async">
            <figcaption id="pSupportCap"></figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- FLOOR PLAN -->
    <section class="container py-5">
      <div class="soft-line mb-4"></div>
      <div class="row g-4 align-items-start">
        <div class="col-lg-5 reveal">
          <h2 class="sec-h">Floor Plan</h2>
          <p class="p mb-0" id="pFloorText"></p>
        </div>

        <div class="col-lg-7 reveal">
          <figure class="support">
            <img id="pFloorImg" src="" alt="" loading="lazy" decoding="async" />
            <figcaption id="pFloorCap"></figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- LOCATION / MAP -->
    <section class="container py-5">
      <div class="soft-line mb-4"></div>
      <div class="row g-4 align-items-start">
        <div class="col-lg-5 reveal">
          <h2 class="sec-h">Location</h2>
          <p class="p mb-0" id="pLocText"></p>
          <div class="mt-3 d-flex flex-wrap gap-2">
            <span class="badge-soft" id="pLocBadge"></span>
            <a class="btn btn-pill btn-sm" id="mapsBtn" href="#" target="_blank" rel="noopener"><i class="bi bi-map me-2"></i>Open in Maps</a>
          </div>
        </div>
        <div class="col-lg-7 reveal">
          <div class="map-wrap" aria-label="Map embed">
            <iframe id="mapFrame" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src=""></iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="container py-5">
      <div class="soft-line mb-4"></div>
      <div class="row g-4 align-items-start">
        <div class="col-lg-5 reveal">
          <h2 class="sec-h">FAQ</h2>
        </div>
        <div class="col-lg-7 reveal">
          <div class="accordion accordion-dark" id="faqAcc"></div>
        </div>
      </div>
    </section>

    <!-- CTA CONTACT -->
    <section class="container py-5" id="contact">
      <div class="soft-line mb-4"></div>
      <div class="row g-4 align-items-center">
        <div class="col-lg-8 reveal">
          <h2 class="sec-h">Ready to discuss this project?</h2>
          <p class="p mb-0">
            Klik tombol WhatsApp untuk konsultasi cepat. Sertakan kebutuhan, budget range, dan timeline agar proposal lebih akurat.
          </p>
        </div>
        <div class="col-lg-4 reveal text-lg-end">
          <a class="btn btn-pill" id="waBtnBottom" href="#" target="_blank" rel="noopener">
            <i class="bi bi-whatsapp me-2"></i>Get a Proposal (WA)
          </a>
        </div>
      </div>
    </section>

    <!-- RELATED PROJECTS -->
    <section class="container pb-5">
      <div class="soft-line mb-4"></div>
      <div class="row g-3 align-items-end">
        <div class="col-12 reveal">
          <h2 class="sec-h">Related Projects</h2>
        </div>

        <div class="row g-3" id="relatedGrid"></div>
      </div>
    </section>
  </main>

  <!-- Lightbox Modal -->
  <div class="modal fade" id="lightbox" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" style="background:rgba(0,0,0,.92); border:1px solid rgba(255,255,255,.12); border-radius:18px;">
        <div class="modal-header" style="border-bottom:1px solid rgba(255,255,255,.10);">
          <h5 class="modal-title" style="color:rgba(255,255,255,.85); font-weight:500; font-size:14px;">Preview</h5>
          <button type="button" class="btn btn-pill" data-bs-dismiss="modal" aria-label="Close">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <div class="modal-body">
          <img id="lbImg" class="lb-img" alt="Lightbox image">
          <div class="mt-2" id="lbCap" style="color:rgba(255,255,255,.55); font-size:12px; line-height:1.6;"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER (SAMA seperti index.html) -->
  <footer class="container py-5">
    <div class="soft-line mb-4"></div>
    <div class="row g-4">
      <div class="col-lg-6">
        <div class="k-brand mb-2">
          <span class="k-mark" aria-hidden="true"></span>
          <span>Kurva</span>
        </div>
        <p class="mb-0" style="color:var(--muted); max-width:60ch;">
          Modern spaces—calm, functional, and crafted. Built on Bootstrap, optimized for SEO, AI Overview, and PageSpeed.
        </p>
      </div>
      <div class="col-lg-6">
        <div class="d-flex flex-wrap gap-2 justify-content-lg-end">
          <a class="btn btn-pill" href="index.html#home">Top</a>
          <a class="btn btn-pill" href="projects.html">Projects</a>
          <a class="btn btn-pill" href="about.html">About</a>
          <a class="btn btn-pill" href="blog.html">Blog</a>
          <a class="btn btn-pill" href="index.html#contact">Contact</a>
        </div>
      </div>
      <div class="col-12 small text-white-50">
        © <span id="yearNow2"></span> Kurva • Author: Muhammad Affizar Ibrahim Alkautsar
      </div>
    </div>
  </footer>

    <!-- FLOATING WA + BACK TO TOP -->
    <a id="floatWA" class="float-wa" href="#" target="_blank" rel="noopener noreferrer" aria-label="Chat via WhatsApp"
    title="WhatsApp">
    <i class="bi bi-whatsapp" aria-hidden="true"></i>
  </a>

  <button id="backToTop" class="back-to-top" type="button" aria-label="Back to top" title="Back to top">
    <i class="bi bi-arrow-up" aria-hidden="true"></i>
  </button>
  <style>
    /* FLOATING WA + BACK TO TOP */
    .float-wa,
    .back-to-top {
      position: fixed;
      right: 16px;
      z-index: 9998;
      width: 52px;
      height: 52px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(255, 255, 255, .16);
      background: rgba(255, 255, 255, .08);
      color: rgba(255, 255, 255, .92);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 18px 40px rgba(0, 0, 0, .45);
      transition: transform .2s ease, opacity .2s ease, background .2s ease, border-color .2s ease;
    }

    .float-wa {
      bottom: 18px;
      text-decoration: none;
    }

    .back-to-top {
      bottom: 78px;
      /* di atas WA */
      opacity: 0;
      pointer-events: none;
    }

    .float-wa:hover,
    .back-to-top:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, .12);
      border-color: rgba(255, 255, 255, .24);
    }

    .back-to-top.show {
      opacity: 1;
      pointer-events: auto;
    }

    .float-wa i,
    .back-to-top i {
      font-size: 22px;
      line-height: 1;
    }

    /* aksesibilitas */
    .float-wa:focus,
    .back-to-top:focus {
      outline: none;
      box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .12), 0 18px 40px rgba(0, 0, 0, .45);
    }
  </style>
  <script>
    (function () {
      // === SETTINGS (ubah sesuai kebutuhan) ===
      const WA_NUMBER = "6281234567890"; // tanpa +
      const WA_MESSAGE = "Halo Kurva, saya ingin konsultasi.";

      // === WA LINK ===
      const waBtn = document.getElementById("floatWA");
      if (waBtn) {
        const text = encodeURIComponent(WA_MESSAGE + " (" + window.location.href + ")");
        waBtn.href = "https://wa.me/" + WA_NUMBER + "?text=" + text;
      }

      // === BACK TO TOP ===
      const topBtn = document.getElementById("backToTop");
      if (!topBtn) return;

      function onScroll() {
        if (window.scrollY > 600) topBtn.classList.add("show");
        else topBtn.classList.remove("show");
      }

      topBtn.addEventListener("click", function () {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      window.addEventListener("scroll", onScroll, { passive: true });
      onScroll();
    })();
  </script>

  <!-- Bootstrap JS (defer) -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

  <!-- Page JS (defer): overlay nav + reveal + gallery swap + lightbox + dynamic content -->
  <script defer>
    (function(){
      // ==============
      // Helpers
      // ==============
      const $ = (s, el=document) => el.querySelector(s);
      const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));
      const esc = (str='') => String(str).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
      const qp = new URLSearchParams(location.search);

      // WA config (ganti nomor sesuai kebutuhanmu)
      const WA_PHONE = "6281234567890"; // contoh: 62812xxxxxxx (tanpa +)
      const waLink = (text) => `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(text)}`;

      // ==============
      // Data projects (6 project)
      // ==============
      const PROJECTS = {
        "urban-nest-compact": {
          name: "Urban Nest Compact",
          slug: "urban-nest-compact",
          location: "Austin, Texas",
          sqft: "1,023 sqft",
          beds: "2 Bedrooms",
          baths: "1 Bathroom",
          lead: "Urban Nest Compact dirancang untuk gaya hidup modern: minimal, hangat, dan fungsional. Fokus pada pencahayaan natural, sirkulasi yang efisien, serta material premium yang tahan lama.",
          year: "2025",
          status: "Completed",
          floors: "1",
          style: "Modern Minimal",
          specs: [
            ["bi-aspect-ratio","Area","1,023 sqft"],
            ["bi-door-open","Bedrooms","2"],
            ["bi-droplet","Bathrooms","1"],
            ["bi-car-front","Parking","1 Slot"],
            ["bi-wind","Ventilation","Cross Vent"],
            ["bi-brightness-high","Lighting","Natural First"],
            ["bi-bricks","Material","Premium Mix"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Open-plan untuk ruang terasa luas.",
            "Finishing matte + warm tone untuk kesan modern.",
            "Storage tersembunyi untuk clean look.",
            "Efisiensi energi lewat pencahayaan alami."
          ],
          gallery: [
            {
              src: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1800&q=80",
              thumb: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=900&q=80",
              alt: "Tampak depan Urban Nest Compact",
              cap: "Tampak depan — fasad modern dengan pencahayaan hangat untuk kesan premium."
            },
            {
              src: "https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=1800&q=80",
              thumb: "https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=900&q=80",
              alt: "Interior dapur modern",
              cap: "Area dapur — layout bersih dan fungsional untuk aktivitas harian."
            },
            {
              src: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1800&q=80",
              thumb: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=900&q=80",
              alt: "Ruang keluarga modern",
              cap: "Living space — bukaan lebar untuk pencahayaan natural dan rasa lapang."
            },
            {
              src: "https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1800&q=80",
              thumb: "https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=900&q=80",
              alt: "Sudut kerja minimal",
              cap: "Work corner — sudut kerja yang tenang untuk remote work."
            }
          ],
          overview1: "Urban Nest Compact fokus pada keseimbangan: estetika minimal, flow ruang yang jelas, dan detail yang terasa premium tanpa berlebihan. Cocok untuk pasangan muda atau profesional yang menginginkan hunian ringkas namun tetap nyaman.",
          overview2: "Dengan zoning yang rapi, area publik terasa terbuka, sementara area privat tetap tenang. Material dipilih untuk durability, perawatan mudah, dan tampilan yang timeless.",
          supportImg: "https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail interior minimal",
          supportCap: "Deskripsi gambar: Detail interior minimal dengan elemen dekor yang sederhana namun elegan.",
          floorText: "Layout dibuat ringkas: living–kitchen terhubung, kamar tidur lebih privat, dan sirkulasi tanpa ruang terbuang.",
          floorImg: "https://images.unsplash.com/photo-1582582429416-0de06d7f2b3f?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Contoh floor plan minimal",
          floorCap: "Deskripsi gambar: Contoh visual floor plan (ilustratif) untuk menunjukkan pembagian ruang yang efisien.",
          locText: "Berada di area strategis dengan akses cepat ke pusat kota, retail, dan ruang terbuka hijau.",
          mapQuery: "Austin Texas",
          faq: [
            ["Apakah spesifikasi bisa disesuaikan?","Bisa. Untuk beberapa bagian seperti finishing, warna, dan built-in storage bisa disesuaikan sesuai paket dan timeline."],
            ["Berapa estimasi waktu pengerjaan?","Estimasi tergantung scope. Untuk unit compact biasanya lebih cepat karena modul layout rapi dan material standar premium."],
            ["Apa yang membedakan Kurva?","Fokus pada detail yang terasa: lighting, flow, storage, dan material. Kami menjaga konsistensi kualitas dari desain sampai eksekusi."]
          ],
          seoDesc: "Detail project Urban Nest Compact: hunian modern compact dengan material premium, layout efisien, dan kenyamanan maksimal."
        },

        "casa-courtyard-luxe": {
          name: "Casa Courtyard Luxe",
          slug: "casa-courtyard-luxe",
          location: "Sedona, Arizona",
          sqft: "1,507 sqft",
          beds: "3 Bedrooms",
          baths: "2 Bathroom",
          lead: "Casa Courtyard Luxe mengusung konsep courtyard untuk keseimbangan privasi, cahaya natural, dan sirkulasi udara yang lebih baik—tetap modern, tetap tenang.",
          year: "2024",
          status: "Completed",
          floors: "1",
          style: "Courtyard Modern",
          specs: [
            ["bi-aspect-ratio","Area","1,507 sqft"],
            ["bi-door-open","Bedrooms","3"],
            ["bi-droplet","Bathrooms","2"],
            ["bi-car-front","Parking","2 Slots"],
            ["bi-tree","Landscape","Courtyard"],
            ["bi-brightness-high","Lighting","All-day Natural"],
            ["bi-bricks","Material","Stone + Wood"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Courtyard sebagai pusat cahaya & udara.",
            "Privasi lebih terjaga tanpa terasa tertutup.",
            "Material stone + wood untuk karakter hangat.",
            "Ruang komunal terasa lega untuk family time."
          ],
          gallery: [
            {
              src:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=900&q=80",
              alt:"Fasad Casa Courtyard Luxe",
              cap:"Fasad — komposisi modern dengan elemen hangat."
            },
            {
              src:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=900&q=80",
              alt:"Interior ruang tamu",
              cap:"Living room — bukaan besar menuju courtyard."
            },
            {
              src:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=900&q=80",
              alt:"Bedroom modern",
              cap:"Bedroom — tone hangat untuk suasana restful."
            },
            {
              src:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=900&q=80",
              alt:"Courtyard area",
              cap:"Courtyard — area transisi yang bikin rumah ‘bernapas’."
            }
          ],
          overview1: "Casa Courtyard Luxe menempatkan courtyard sebagai jantung rumah. Hasilnya: cahaya menyebar merata, cross-vent lebih efektif, dan privasi meningkat.",
          overview2: "Zoning dibuat tegas: area publik menghadap courtyard, area privat lebih masuk ke dalam. Cocok untuk keluarga yang butuh ruang komunal sekaligus area tenang.",
          supportImg: "https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail material hangat",
          supportCap: "Deskripsi gambar: Material hangat dipadukan dengan lighting lembut untuk mood yang premium.",
          floorText: "Akses courtyard dari beberapa ruang utama untuk flow yang natural dan fungsional.",
          floorImg: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Contoh layout courtyard",
          floorCap: "Deskripsi gambar: Visual layout (ilustratif) untuk pembagian ruang berbasis courtyard.",
          locText: "Sedona menawarkan lanskap ikonik—rumah ini dirancang agar tetap menyatu dengan vibe area, sambil mempertahankan kenyamanan modern.",
          mapQuery: "Sedona Arizona",
          faq: [
            ["Courtyard itu wajib besar?","Tidak. Bisa disesuaikan. Yang penting proporsinya cukup untuk cahaya & udara."],
            ["Apakah cocok untuk iklim panas?","Justru cocok: courtyard membantu ventilasi dan shading bisa diatur."],
            ["Bisa tambah kolam kecil?","Bisa. Kami bisa integrasikan water-feature untuk cooling dan ambience."]
          ],
          seoDesc: "Detail project Casa Courtyard Luxe: rumah modern dengan courtyard untuk cahaya natural, privasi, dan ventilasi optimal."
        },

        "horizon-cliff-cabin": {
          name: "Horizon Cliff Cabin",
          slug: "horizon-cliff-cabin",
          location: "Asheville, North Carolina",
          sqft: "1,184 sqft",
          beds: "2 Bedrooms",
          baths: "2 Bathroom",
          lead: "Horizon Cliff Cabin adalah cabin modern dengan suasana hangat, view-friendly layout, dan material yang terasa natural namun tetap rapi.",
          year: "2023",
          status: "Completed",
          floors: "2",
          style: "Modern Cabin",
          specs: [
            ["bi-aspect-ratio","Area","1,184 sqft"],
            ["bi-door-open","Bedrooms","2"],
            ["bi-droplet","Bathrooms","2"],
            ["bi-layers","Floors","2"],
            ["bi-window","Windows","Panoramic"],
            ["bi-wind","Ventilation","Optimized"],
            ["bi-bricks","Material","Timber + Metal"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Panoramic window untuk view maksimal.",
            "Material timber untuk kesan hangat.",
            "Zoning split-level yang efisien.",
            "Cocok untuk getaway atau Airbnb premium."
          ],
          gallery: [
            {
              src:"https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?auto=format&fit=crop&w=900&q=80",
              alt:"Cabin modern di alam",
              cap:"Eksterior — cabin modern dengan karakter natural."
            },
            {
              src:"https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=900&q=80",
              alt:"Interior hangat",
              cap:"Interior — tone hangat untuk mood cozy."
            },
            {
              src:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=900&q=80",
              alt:"Sudut kerja cabin",
              cap:"Corner — area fungsional untuk work & chill."
            },
            {
              src:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=900&q=80",
              alt:"Living cabin",
              cap:"Living — layout mengarah ke view."
            }
          ],
          overview1: "Horizon Cliff Cabin dibuat untuk memaksimalkan view. Bukaan utama ditempatkan strategis agar ruang terasa ‘lebih besar’ daripada ukurannya.",
          overview2: "Material dipilih untuk tahan cuaca dan tetap mudah dirawat. Cocok untuk rumah liburan, atau unit sewa premium.",
          supportImg: "https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail interior cabin",
          supportCap: "Deskripsi gambar: Detail interior dengan komposisi clean dan lighting lembut.",
          floorText: "Split-level untuk memisahkan fungsi (publik vs privat) tanpa memperbesar footprint.",
          floorImg: "https://images.unsplash.com/photo-1582582429416-0de06d7f2b3f?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Ilustrasi floor plan cabin",
          floorCap: "Deskripsi gambar: Visual floor plan (ilustratif) untuk cabin dengan zoning jelas.",
          locText: "Asheville dikenal dengan suasana pegunungan—cabin ini memanfaatkan iklim dan view untuk pengalaman tinggal yang tenang.",
          mapQuery: "Asheville North Carolina",
          faq: [
            ["Bisa dibuat lebih besar?","Bisa. Modul ruang bisa ditambah tanpa mengorbankan view strategy."],
            ["Material kayu aman?","Aman jika pakai treatment yang tepat (kami atur spesifikasinya)."],
            ["Cocok untuk sewa harian?","Cocok—layout dan ambience mendukung market premium."]
          ],
          seoDesc: "Detail project Horizon Cliff Cabin: cabin modern dengan bukaan panoramic, suasana hangat, dan layout yang memaksimalkan view."
        },

        "nordic-a-frame-lodge": {
          name: "Nordic A-Frame Lodge",
          slug: "nordic-a-frame-lodge",
          location: "Lake Tahoe, Nevada",
          sqft: "969 sqft",
          beds: "2 Bedrooms",
          baths: "1 Bathroom",
          lead: "Nordic A-Frame Lodge menyatukan bentuk ikonik A-frame dengan interior modern yang rapi—ringkas, cozy, dan sangat photogenic.",
          year: "2022",
          status: "Completed",
          floors: "2",
          style: "Nordic A-Frame",
          specs: [
            ["bi-aspect-ratio","Area","969 sqft"],
            ["bi-door-open","Bedrooms","2"],
            ["bi-droplet","Bathrooms","1"],
            ["bi-layers","Floors","2"],
            ["bi-snow","Climate","Cold-friendly"],
            ["bi-brightness-high","Lighting","Skylight Feel"],
            ["bi-bricks","Material","Timber"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Bentuk A-frame ikonik, cocok untuk getaway.",
            "Volume ruang terasa tinggi walau compact.",
            "Cocok untuk area dingin (Tahoe vibe).",
            "Interior clean ala nordic modern."
          ],
          gallery: [
            {
              src:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=900&q=80",
              alt:"A-frame lodge interior",
              cap:"Interior — volume tinggi, terasa lega."
            },
            {
              src:"https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?auto=format&fit=crop&w=900&q=80",
              alt:"A-frame lodge exterior",
              cap:"Eksterior — bentuk A-frame klasik modern."
            },
            {
              src:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=900&q=80",
              alt:"Detail lounge",
              cap:"Lounge — cozy corner untuk malam dingin."
            },
            {
              src:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=900&q=80",
              alt:"Work corner nordic",
              cap:"Corner — fungsional, tetap clean."
            }
          ],
          overview1: "A-frame memberi karakter visual kuat. Di dalam, layout dibuat modern dan fungsional agar tetap nyaman untuk tinggal beberapa hari sampai mingguan.",
          overview2: "Cocok untuk area dingin: pencahayaan hangat, material kayu, dan zoning yang bikin rumah terasa ‘cozy’.",
          supportImg: "https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail interior nordic",
          supportCap: "Deskripsi gambar: Kombinasi kayu dan warna netral untuk vibe nordic modern.",
          floorText: "Mezzanine sebagai area privat, lantai bawah untuk area publik agar flow jelas.",
          floorImg: "https://images.unsplash.com/photo-1582582429416-0de06d7f2b3f?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Ilustrasi floor plan A-frame",
          floorCap: "Deskripsi gambar: Ilustrasi zoning A-frame (publik bawah, privat mezzanine).",
          locText: "Lake Tahoe terkenal untuk getaway. Lodge ini dibuat untuk pengalaman menginap yang ikonik dan nyaman.",
          mapQuery: "Lake Tahoe Nevada",
          faq: [
            ["Apakah A-frame panas?","Bisa diatur lewat insulasi dan ventilasi yang tepat."],
            ["Mezzanine aman?","Aman. Kami siapkan railing dan standar struktur."],
            ["Cocok untuk sewa?","Sangat cocok—tipe ini biasanya high demand untuk short stay."]
          ],
          seoDesc: "Detail project Nordic A-Frame Lodge: bentuk ikonik, interior nordic modern, cozy untuk area dingin dan getaway premium."
        },

        "elevate-split-retreat": {
          name: "Elevate Split Retreat",
          slug: "elevate-split-retreat",
          location: "Boulder, Colorado",
          sqft: "1,345 sqft",
          beds: "3 Bedrooms",
          baths: "2 Bathroom",
          lead: "Elevate Split Retreat menawarkan zoning yang rapi untuk keluarga modern—ruang publik lega, ruang privat tenang, dan storage rapi agar home terasa clean.",
          year: "2025",
          status: "Completed",
          floors: "2",
          style: "Split Modern",
          specs: [
            ["bi-aspect-ratio","Area","1,345 sqft"],
            ["bi-door-open","Bedrooms","3"],
            ["bi-droplet","Bathrooms","2"],
            ["bi-layers","Floors","2"],
            ["bi-car-front","Parking","2 Slots"],
            ["bi-wind","Ventilation","Cross Vent"],
            ["bi-brightness-high","Lighting","Natural First"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Zoning split untuk privacy keluarga.",
            "Ruang publik lebih lega dan terang.",
            "Storage rapi, rumah terlihat clean.",
            "Material modern yang mudah dirawat."
          ],
          gallery: [
            {
              src:"https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=900&q=80",
              alt:"Interior clean modern",
              cap:"Interior — clean, rapi, dan timeless."
            },
            {
              src:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=900&q=80",
              alt:"Fasad modern",
              cap:"Fasad — garis modern dengan detail halus."
            },
            {
              src:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=900&q=80",
              alt:"Living room",
              cap:"Living — ruang komunal untuk keluarga."
            },
            {
              src:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=900&q=80",
              alt:"Workspace",
              cap:"Workspace — sudut kerja minimal."
            }
          ],
          overview1: "Elevate Split Retreat dibuat untuk keluarga yang ingin rumah modern tanpa ribet. Ruang publik fokus pada kenyamanan, sementara ruang privat punya ketenangan.",
          overview2: "Split zoning membantu mengurangi noise dan menjaga flow. Kombinasi material modern dipilih agar mudah perawatan namun tetap terlihat premium.",
          supportImg: "https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail interior premium",
          supportCap: "Deskripsi gambar: Detail interior dengan finishing halus dan lighting hangat.",
          floorText: "Split-level memisahkan area komunal dan privat agar rumah lebih tertata.",
          floorImg: "https://images.unsplash.com/photo-1582582429416-0de06d7f2b3f?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Ilustrasi split floor plan",
          floorCap: "Deskripsi gambar: Ilustrasi floor plan split untuk zoning yang rapi.",
          locText: "Boulder adalah area outdoor-friendly. Rumah ini dibuat untuk gaya hidup aktif—mudah akses, nyaman pulang.",
          mapQuery: "Boulder Colorado",
          faq: [
            ["Apakah split-level cocok untuk anak?","Cocok jika railing dan sirkulasi aman. Kami desain sesuai kebutuhan keluarga."],
            ["Bisa tambah ruang kerja?","Bisa. Kami bisa atur corner workspace atau ruang khusus."],
            ["Bagaimana perawatan material?","Material dipilih yang mudah dibersihkan dan tahan pemakaian harian."]
          ],
          seoDesc: "Detail project Elevate Split Retreat: rumah modern split-level dengan zoning rapi untuk keluarga, terang, dan fungsional."
        },

        "serenity-box-villa": {
          name: "Serenity Box Villa",
          slug: "serenity-box-villa",
          location: "Palm Springs, California",
          sqft: "861 sqft",
          beds: "2 Bedrooms",
          baths: "1 Bathroom",
          lead: "Serenity Box Villa adalah villa compact dengan karakter modern boxy—minimal, clean, dan fokus pada kenyamanan serta efisiensi ruang.",
          year: "2024",
          status: "Completed",
          floors: "1",
          style: "Box Modern",
          specs: [
            ["bi-aspect-ratio","Area","861 sqft"],
            ["bi-door-open","Bedrooms","2"],
            ["bi-droplet","Bathrooms","1"],
            ["bi-layers","Floors","1"],
            ["bi-sun","Climate","Hot-friendly"],
            ["bi-brightness-high","Lighting","Controlled Natural"],
            ["bi-bricks","Material","Concrete + Glass"],
            ["bi-shield-check","Warranty","12 Months"]
          ],
          highlights: [
            "Bentuk box modern yang clean.",
            "Cocok untuk iklim panas (shading & bukaan terkontrol).",
            "Ruang ringkas tapi tetap lega.",
            "Material concrete + glass terasa premium."
          ],
          gallery: [
            {
              src:"https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1449247709967-d4461a6a6103?auto=format&fit=crop&w=900&q=80",
              alt:"Villa modern minimal",
              cap:"Interior — minimal, clean, dan elegan."
            },
            {
              src:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=900&q=80",
              alt:"Fasad villa modern",
              cap:"Eksterior — garis modern yang rapi."
            },
            {
              src:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1501183638710-841dd1904471?auto=format&fit=crop&w=900&q=80",
              alt:"Living villa",
              cap:"Living — ruang kecil tapi terasa lega."
            },
            {
              src:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=1800&q=80",
              thumb:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?auto=format&fit=crop&w=900&q=80",
              alt:"Outdoor corner",
              cap:"Outdoor — corner untuk chill di iklim hangat."
            }
          ],
          overview1: "Serenity Box Villa mengutamakan kesederhanaan bentuk dan detail yang rapi. Dengan ukuran compact, rumah tetap terasa lega karena layout dan bukaan yang tepat.",
          overview2: "Cocok untuk iklim panas: shading, bukaan terkontrol, dan material yang tahan cuaca membantu menjaga kenyamanan.",
          supportImg: "https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=1800&q=80",
          supportAlt: "Detail interior clean",
          supportCap: "Deskripsi gambar: Detail interior yang clean dengan komposisi furnitur minimal.",
          floorText: "Zoning linear untuk memaksimalkan efisiensi ruang—tanpa area terbuang.",
          floorImg: "https://images.unsplash.com/photo-1582582429416-0de06d7f2b3f?auto=format&fit=crop&w=1800&q=80",
          floorAlt: "Ilustrasi floor plan compact",
          floorCap: "Deskripsi gambar: Ilustrasi pembagian ruang compact yang efisien.",
          locText: "Palm Springs identik dengan modern desert vibe. Villa ini dibuat untuk menyatu dengan suasana, tetap nyaman, tetap clean.",
          mapQuery: "Palm Springs California",
          faq: [
            ["Apakah aman untuk iklim panas?","Aman—kami perhatikan shading, ventilasi, dan material tahan cuaca."],
            ["Bisa tambah kolam kecil?","Bisa. Untuk villa compact, plunge pool sering jadi opsi favorit."],
            ["Apakah cocok untuk investasi sewa?","Cocok—desain clean dan photogenic biasanya perform bagus di market sewa."]
          ],
          seoDesc: "Detail project Serenity Box Villa: villa modern compact dengan bentuk boxy, efisien, clean, dan cocok untuk iklim hangat."
        }
      };

      // Default slug
      const slug = qp.get("project") || "urban-nest-compact";
      const P = PROJECTS[slug] || PROJECTS["urban-nest-compact"];

      // ==============
      // SEO meta updater (title/desc/OG/canonical/ld+json)
      // ==============
      function setMeta(name, content){
        const el = document.querySelector(`meta[name="${name}"]`);
        if(el) el.setAttribute("content", content);
      }
      function setProp(property, content){
        const el = document.querySelector(`meta[property="${property}"]`);
        if(el) el.setAttribute("content", content);
      }

      // Canonical (pakai origin jika ada; kalau file:// fallback ke example)
      const base = (location.origin && location.origin.startsWith("http")) ? location.origin : "https://example.com";
      const canonUrl = `${base}${location.pathname}?project=${encodeURIComponent(P.slug)}`;
      document.getElementById("canon").href = canonUrl;

      document.title = `Kurva — ${P.name}`;
      setMeta("description", P.seoDesc);
      setProp("og:title", `${P.name} — Project Detail`);
      setProp("og:description", P.seoDesc);
      setProp("og:url", canonUrl);
      setProp("og:image", P.gallery?.[0]?.src || "");
      setMeta("twitter:title", `${P.name} — Project Detail`);
      setMeta("twitter:description", P.seoDesc);
      setMeta("twitter:image", P.gallery?.[0]?.src || "");

      // JSON-LD
      const ld = {
        "@context":"https://schema.org",
        "@type":"SingleFamilyResidence",
        "name": P.name,
        "description": P.seoDesc,
        "address":{
          "@type":"PostalAddress",
          "addressLocality": (P.location || "").split(",")[0]?.trim() || "-",
          "addressRegion": (P.location || "").split(",")[1]?.trim() || "-",
          "addressCountry":"US"
        },
        "floorSize":{
          "@type":"QuantitativeValue",
          "value": parseInt(String(P.sqft).replace(/[^\d]/g,''),10) || 0,
          "unitText":"SQFT"
        },
        "numberOfRooms": parseInt(String(P.beds).replace(/[^\d]/g,''),10) || 0,
        "url": canonUrl,
        "image": P.gallery?.[0]?.src || undefined,
        "author":{"@type":"Person","name":"Muhammad Affizar Ibrahim Alkautsar"}
      };
      document.getElementById("ldjson").textContent = JSON.stringify(ld);

      // ==============
      // Render page content
      // ==============
      $("#pTitle").textContent = P.name;

      // meta line under title
      $("#pMeta").innerHTML = `
        <span class="m"><i class="bi bi-geo-alt"></i> ${esc(P.location)}</span>
        <span class="m"><i class="bi bi-aspect-ratio"></i> ${esc(P.sqft)}</span>
        <span class="m"><i class="bi bi-door-open"></i> ${esc(P.beds)}</span>
        <span class="m"><i class="bi bi-droplet"></i> ${esc(P.baths)}</span>
      `;

      $("#pLead").textContent = P.lead;

      // WA text professional
      const waText = `Halo Kurva, saya tertarik dengan project "${P.name}" di ${P.location}. Boleh minta proposal & estimasi?`;
      $("#waBtnTop").href = waLink(waText);
      $("#waBtnBottom").href = waLink(waText);

      // Quick facts
      $("#pQuickFacts").innerHTML = `
        <div class="spec"><i class="bi bi-calendar3"></i> <div><span>Year</span><br>${esc(P.year)}</div></div>
        <div class="spec"><i class="bi bi-check2-circle"></i> <div><span>Status</span><br>${esc(P.status)}</div></div>
        <div class="spec"><i class="bi bi-layers"></i> <div><span>Floors</span><br>${esc(P.floors)}</div></div>
        <div class="spec"><i class="bi bi-house-heart"></i> <div><span>Style</span><br>${esc(P.style)}</div></div>
      `;

      // Gallery
      const g0 = P.gallery[0];
      $("#mainImg").src = g0.src;
      $("#mainImg").alt = g0.alt;
      $("#mainCaption").textContent = g0.cap;

      $("#thumbGrid").innerHTML = P.gallery.map((g, idx) => `
        <div class="thumb ${idx===0?'active':''}"
             data-src="${esc(g.src)}"
             data-cap="${esc(g.cap)}"
             data-alt="${esc(g.alt)}"
             role="button" tabindex="0" aria-label="Open thumbnail ${idx+1}">
          <img src="${esc(g.thumb)}" alt="Thumbnail ${idx+1}" loading="lazy" decoding="async">
        </div>
      `).join("");

      // Specs
      $("#pSpecs").innerHTML = P.specs.map(s => `
        <div class="spec"><i class="bi ${esc(s[0])}"></i> <div><span>${esc(s[1])}</span><br>${esc(s[2])}</div></div>
      `).join("");

      // Highlights
      $("#pHighlights").innerHTML = P.highlights.map(h => `<li>${esc(h)}</li>`).join("");

      // Overview
      $("#pOverview1").textContent = P.overview1;
      $("#pOverview2").textContent = P.overview2;

      $("#pSupportImg").src = P.supportImg;
      $("#pSupportImg").alt = P.supportAlt;
      $("#pSupportCap").textContent = P.supportCap;

      // Floor plan
      $("#pFloorText").textContent = P.floorText;
      $("#pFloorImg").src = P.floorImg;
      $("#pFloorImg").alt = P.floorAlt;
      $("#pFloorCap").textContent = P.floorCap;

      // Location + map
      $("#pLocText").textContent = P.locText;
      $("#pLocBadge").textContent = P.location;

      const mq = encodeURIComponent(P.mapQuery);
      $("#mapFrame").src = `https://www.google.com/maps?q=${mq}&output=embed`;
      $("#mapsBtn").href = `https://www.google.com/maps?q=${mq}`;

      // FAQ
      $("#faqAcc").innerHTML = P.faq.map((f, i) => `
        <div class="accordion-item">
          <h3 class="accordion-header" id="fqh${i}">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#fq${i}">
              ${esc(f[0])}
            </button>
          </h3>
          <div id="fq${i}" class="accordion-collapse collapse" data-bs-parent="#faqAcc">
            <div class="accordion-body">${esc(f[1])}</div>
          </div>
        </div>
      `).join("");

      // Related (3 card) — ambil selain current
      const related = Object.values(PROJECTS).filter(x => x.slug !== P.slug).slice(0,3);
      $("#relatedGrid").innerHTML = related.map(r => `
        <div class="col-md-6 col-lg-4 reveal">
          <div class="mini-card">
            <div class="mini-img">
              <img src="${esc(r.gallery[0].thumb.replace('w=900','w=1600'))}" alt="${esc(r.name)}" loading="lazy" decoding="async">
            </div>
            <div class="mini-body">
              <div class="mini-title">${esc(r.name)}</div>
              <div class="mini-desc">${esc(r.location)} — ${esc(r.style)} • ${esc(r.sqft)}</div>
              <div class="d-flex gap-2 flex-wrap">
                <a class="btn btn-pill btn-sm" href="detail.html?project=${encodeURIComponent(r.slug)}">Baca Selengkapnya</a>
                <a class="btn btn-pill btn-sm" href="${waLink(`Halo Kurva, saya tertarik dengan project "${r.name}". Bisa minta detailnya?`)}" target="_blank" rel="noopener">
                  <i class="bi bi-whatsapp me-1"></i>WhatsApp
                </a>
              </div>
            </div>
          </div>
        </div>
      `).join("");

      // ==============
      // Overlay nav + reveal + gallery swap + lightbox
      // ==============
      const y = new Date().getFullYear();
      $("#yearNow").textContent = y;
      $("#yearNow2").textContent = y;

      const overlay = $("#overlayNav");
      const menuBtn = $("#menuBtn");
      const closeBtn = $("#closeBtn");

      function openMenu(){
        overlay.classList.add('open');
        overlay.setAttribute('aria-hidden','false');
        menuBtn.setAttribute('aria-expanded','true');
        document.body.style.overflow = 'hidden';
      }
      function closeMenu(){
        overlay.classList.remove('open');
        overlay.setAttribute('aria-hidden','true');
        menuBtn.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }
      menuBtn.addEventListener('click', openMenu);
      closeBtn.addEventListener('click', closeMenu);
      overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeMenu(); });
      $$('[data-close]').forEach(el=> el.addEventListener('click', ()=> closeMenu()));
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && overlay.classList.contains('open')) closeMenu(); });

      // Reveal
      const items = $$('.reveal');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(ent=>{
          if(ent.isIntersecting){
            ent.target.classList.add('is-in');
            io.unobserve(ent.target);
          }
        });
      }, { threshold: 0.12 });
      items.forEach(el => io.observe(el));

      // Gallery swap
      const mainImg = $("#mainImg");
      const mainCap = $("#mainCaption");
      const thumbs = $$('.thumb', $("#thumbGrid"));

      function setActiveThumb(el){
        thumbs.forEach(t=> t.classList.remove('active'));
        el.classList.add('active');
      }

      thumbs.forEach(t=>{
        const activate = ()=>{
          const src = t.getAttribute('data-src');
          const cap = t.getAttribute('data-cap') || '';
          const alt = t.getAttribute('data-alt') || 'Gallery image';
          mainImg.src = src;
          mainImg.alt = alt;
          mainCap.textContent = cap;
          setActiveThumb(t);
        };
        t.addEventListener('click', activate);
        t.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            activate();
          }
        });
      });

      // Lightbox
      const lb = $("#lightbox");
      const lbImg = $("#lbImg");
      const lbCap = $("#lbCap");
      const mainOpen = $("#mainOpen");

      function openLightbox(){
        lbImg.src = mainImg.src;
        lbImg.alt = mainImg.alt;
        lbCap.textContent = mainCap.textContent;
        const modal = new bootstrap.Modal(lb);
        modal.show();
      }

      mainOpen.addEventListener('click', openLightbox);
      mainOpen.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          openLightbox();
        }
      });

      // Smooth focus top when changing slug (optional)
      window.addEventListener("pageshow", ()=> window.scrollTo({top:0, behavior:"instant"}));
    })();
  </script>

</body>
</html>
