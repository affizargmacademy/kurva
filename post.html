<!-- =========================
     post.html (DINAMIS 1 FILE)
     Klik dari blog.html akan masuk ke sini
     ========================= -->
<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Title/Meta akan di-inject JS -->
  <title>Kurva — Blog</title>
  <meta name="description" content="Kurva Blog." />

  <meta name="author" content="Muhammad Affizar Ibrahim Alkautsar" />
  <meta name="keywords" content="Kurva, blog, real estate, desain, investasi properti" />

  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
  <link rel="canonical" href="https://example.com/post.html" />

  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />

  <!-- Performance hints -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin />
  <link rel="dns-prefetch" href="https://images.unsplash.com" />

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@300;400;500&display=swap"
    rel="stylesheet">

  <!-- Open Graph (akan di-update JS) -->
  <meta property="og:site_name" content="Kurva" />
  <meta property="og:title" content="Kurva — Blog" />
  <meta property="og:description" content="Kurva Blog." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://example.com/post.html" />
  <meta property="og:image"
    content="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1200&q=80" />
  <meta property="og:locale" content="id_ID" />

  <!-- Twitter (akan di-update JS) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Kurva — Blog" />
  <meta name="twitter:description" content="Kurva Blog." />
  <meta name="twitter:image"
    content="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1200&q=80" />

  <!-- Favicon pack -->
  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="icon" href="/assets/favicons/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="apple-mobile-web-app-title" content="Kurva" />
  <meta name="application-name" content="Kurva" />
  <meta name="msapplication-TileColor" content="#000000" />

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    crossorigin="anonymous" />

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    crossorigin="anonymous" />

  <!-- JSON-LD placeholders (akan di-replace JS) -->
  <script type="application/ld+json" id="ldArticle">
       {"@context":"https://schema.org","@type":"Article","headline":"Kurva — Blog","description":"Kurva Blog.","image":["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1400&q=80"],"author":{"@type":"Person","name":"Muhammad Affizar Ibrahim Alkautsar"},"publisher":{"@type":"Organization","name":"Kurva","url":"https://example.com/"},"datePublished":"2025-06-02","dateModified":"2025-06-02","mainEntityOfPage":{"@type":"WebPage","@id":"https://example.com/post.html"},"inLanguage":"id-ID"}
       </script>

  <script type="application/ld+json" id="ldFaq">
       {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[]}
       </script>

  <style>
    :root {
      --bg: #000;
      --text: rgba(255, 255, 255, .92);
      --muted: rgba(255, 255, 255, .62);
      --muted2: rgba(255, 255, 255, .42);
      --line: rgba(255, 255, 255, .10);
      --line2: rgba(255, 255, 255, .16);
      --shadow: 0 18px 50px rgba(0, 0, 0, .55);
      --r-xl: 22px;
      --r-lg: 18px;
      --r-md: 14px;
      --ease: cubic-bezier(.2, .8, .2, 1);
      --ease2: cubic-bezier(.16, 1, .3, 1);
      --font-ui: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --font-display: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-ui);
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
      margin: 0;
      padding-top: 0 !important;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      max-width: 1180px;
    }

    .soft-line {
      border-top: 1px solid var(--line);
    }

    .btn-pill {
      border-radius: 999px;
      padding: .65rem 1rem;
      border: 1px solid var(--line2);
      background: rgba(255, 255, 255, .06);
      color: var(--text);
      transition: transform .2s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
    }

    .btn-pill:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, .09);
      border-color: rgba(255, 255, 255, .22);
    }

    .btn-pill:focus {
      outline: none;
      box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .12);
    }

    .k-brand {
      display: flex;
      align-items: center;
      gap: .6rem;
      letter-spacing: .2px;
      font-family: var(--font-display);
      font-weight: 400;
    }

    .k-mark {
      width: 18px;
      height: 18px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, .24);
      background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, .18), rgba(255, 255, 255, .02));
      box-shadow: 0 0 0 1px rgba(255, 255, 255, .06) inset;
    }

    .reveal {
      opacity: 0;
      transform: translateY(14px);
      transition: opacity .8s var(--ease2), transform .8s var(--ease2);
    }

    .reveal.is-in {
      opacity: 1;
      transform: none;
    }

    header {
      margin-top: 0 !important;
    }

    footer {
      padding-bottom: 4rem;
    }

    /* Post layout */
    .post-hero {
      padding-top: 28px !important;
      padding-bottom: 14px !important;
    }

    .post-title {
      font-family: var(--font-display);
      font-weight: 300;
      letter-spacing: .2px;
      font-size: clamp(38px, 4.2vw, 60px);
      line-height: 1.05;
      margin: 0 0 10px;
      max-width: 24ch;
    }

    .post-meta {
      color: rgba(255, 255, 255, .60);
      font-size: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px 16px;
      align-items: center;
      margin-bottom: 14px;
    }

    .post-meta .m {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .post-lead {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.9;
      max-width: 92ch;
      margin: 0;
    }

    figure.main-figure {
      margin: 18px 0 0;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
      box-shadow: 0 22px 70px rgba(0, 0, 0, .55);
      overflow: hidden;
      border-radius: 18px;
    }

    figure.main-figure img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    figure.main-figure figcaption {
      padding: 10px 14px;
      color: rgba(255, 255, 255, .52);
      font-size: 12px;
      border-top: 1px solid rgba(255, 255, 255, .08);
    }

    .content-wrap {
      padding-top: 18px;
      padding-bottom: 22px;
    }

    /* TOC */
    .toc-card {
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
    }

    .toc-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      font-weight: 500;
      color: rgba(255, 255, 255, .82);
      cursor: pointer;
      user-select: none;
    }

    .toc-body {
      padding: 0 14px 14px;
      display: none;
    }

    .toc-card.open .toc-body {
      display: block;
    }

    .toc-list {
      list-style: none;
      padding: 6px 0 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 12.5px;
      line-height: 1.55;
      color: rgba(255, 255, 255, .68);
    }

    .toc-list a {
      color: rgba(255, 255, 255, .72);
      transition: opacity .2s var(--ease);
    }

    .toc-list a:hover {
      opacity: .9;
    }

    .toc-indent {
      padding-left: 14px;
      opacity: .92;
    }

    /* Article typography */
    .post-article {
      color: rgba(255, 255, 255, .80);
      font-size: 13px;
      line-height: 2;
    }

    .post-article h2 {
      font-family: var(--font-display);
      font-weight: 300;
      letter-spacing: .2px;
      color: rgba(255, 255, 255, .92);
      font-size: 28px;
      margin: 26px 0 10px;
      scroll-margin-top: 96px;
    }

    .post-article h3 {
      font-weight: 600;
      color: rgba(255, 255, 255, .86);
      font-size: 15px;
      margin: 18px 0 8px;
      scroll-margin-top: 96px;
    }

    .post-article p {
      margin: 0 0 14px;
      color: rgba(255, 255, 255, .74);
    }

    .post-article ul {
      margin: 0 0 16px 18px;
      color: rgba(255, 255, 255, .74);
    }

    .post-article li {
      margin-bottom: 8px;
    }

    blockquote {
      margin: 18px 0;
      padding: 14px 16px;
      border-left: 3px solid rgba(255, 255, 255, .24);
      background: rgba(255, 255, 255, .03);
      border-radius: 14px;
      color: rgba(255, 255, 255, .78);
      font-size: 13px;
      line-height: 1.85;
    }

    blockquote cite {
      display: block;
      margin-top: 8px;
      color: rgba(255, 255, 255, .50);
      font-style: normal;
      font-size: 12px;
    }

    figure.support-figure {
      margin: 18px 0;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .02);
      overflow: hidden;
      border-radius: 18px;
    }

    figure.support-figure img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    figure.support-figure figcaption {
      padding: 10px 14px;
      color: rgba(255, 255, 255, .52);
      font-size: 12px;
      border-top: 1px solid rgba(255, 255, 255, .08);
    }

    /* Promo gif block */
    .promo {
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
      box-shadow: 0 18px 55px rgba(0, 0, 0, .45);
      margin: 18px 0;
    }

    .promo img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Share bar */
    .share-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin: 14px 0 0;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border-radius: 999px;
      padding: .55rem .9rem;
      border: 1px solid rgba(255, 255, 255, .16);
      background: rgba(255, 255, 255, .06);
      color: rgba(255, 255, 255, .86);
      font-size: 12px;
      transition: transform .2s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
      cursor: pointer;
    }

    .share-btn:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, .09);
      border-color: rgba(255, 255, 255, .24);
    }

    .share-note {
      color: rgba(255, 255, 255, .50);
      font-size: 11.5px;
    }

    /* Read also + Related cards */
    .mini-card {
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
      transition: transform .25s var(--ease), border-color .25s var(--ease);
    }

    .mini-card:hover {
      transform: translateY(-2px);
      border-color: rgba(255, 255, 255, .22);
    }

    .mini-img {
      aspect-ratio: 16 / 9;
      overflow: hidden;
      border-bottom: 1px solid rgba(255, 255, 255, .08);
    }

    .mini-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .mini-body {
      padding: 12px 14px 14px;
    }

    .mini-title {
      margin: 0 0 6px;
      font-weight: 600;
      font-size: 13px;
      color: rgba(255, 255, 255, .88);
      line-height: 1.5;
    }

    .mini-desc {
      margin: 0 0 10px;
      color: rgba(255, 255, 255, .62);
      font-size: 12px;
      line-height: 1.7;
    }

    /* Author box */
    .author-box {
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
      padding: 14px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .author-avatar {
      width: 52px;
      height: 52px;
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .14);
      background: rgba(255, 255, 255, .04);
      flex: 0 0 auto;
    }

    .author-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .author-name {
      font-weight: 600;
      color: rgba(255, 255, 255, .88);
      margin: 0 0 4px;
      font-size: 13px;
    }

    .author-bio {
      margin: 0;
      color: rgba(255, 255, 255, .64);
      font-size: 12px;
      line-height: 1.75;
      max-width: 70ch;
    }

    /* FAQ accordion */
    .accordion-dark .accordion-item {
      background: rgba(255, 255, 255, .05);
      border: 1px solid rgba(255, 255, 255, .12);
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .accordion-dark .accordion-button {
      background: transparent;
      color: rgba(255, 255, 255, .90);
      border: 0;
      box-shadow: none;
      padding: 1.05rem 1.1rem;
      font-weight: 500;
      font-size: 13px;
    }

    .accordion-dark .accordion-button:not(.collapsed) {
      background: rgba(255, 255, 255, .06);
    }

    .accordion-dark .accordion-button::after {
      filter: invert(1) opacity(.75);
    }

    .accordion-dark .accordion-body {
      color: rgba(255, 255, 255, .68);
      padding: 0 1.1rem 1.1rem;
      font-size: 12.5px;
      line-height: 1.8;
    }

    .sec-h {
      font-family: var(--font-display);
      font-weight: 300;
      letter-spacing: .2px;
      font-size: 26px;
      margin: 0 0 12px;
    }

    .note {
      border: 1px solid rgba(255, 255, 255, .12);
      background: rgba(255, 255, 255, .03);
      border-radius: 16px;
      padding: 12px 14px;
      color: rgba(255, 255, 255, .72);
      font-size: 12.5px;
      line-height: 1.8;
    }

    /* =========================
            TAMBAHAN: Share dock (mobile) styling
            ========================= */
    #shareDockMobile .share-wrap {
      margin: 0;
    }

    #shareDockMobile .share-note {
      display: block;
      margin-top: 6px;
    }
  </style>
</head>

<body>

  <!-- NAVBAR -->
  <header class="position-sticky top-0 z-3"
    style="background:rgba(0,0,0,.72); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-bottom:1px solid rgba(255,255,255,.08);">
    <div class="container py-3 d-flex align-items-center justify-content-between">
      <a href="index.html#home" class="k-brand" aria-label="Go to Home">
        <span class="k-mark" aria-hidden="true"></span>
        <span>Kurva</span>
      </a>

      <div class="d-flex align-items-center gap-2">
        <a href="index.html#contact" class="btn btn-pill d-none d-md-inline-flex">Contact Us</a>
        <button id="menuBtn" class="btn btn-pill d-inline-flex align-items-center gap-2" type="button"
          aria-label="Open menu" aria-controls="overlayNav" aria-expanded="false">
          <span class="d-none d-sm-inline">Menu</span>
          <i class="bi bi-list fs-5"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- OVERLAY NAV -->
  <div id="overlayNav" class="overlay-nav" aria-hidden="true">
    <div class="container h-100 d-flex flex-column">
      <div class="d-flex align-items-center justify-content-between py-4">
        <a href="index.html#home" class="k-brand" data-close aria-label="Go to Home">
          <span class="k-mark" aria-hidden="true"></span>
          <span>Kurva</span>
        </a>
        <div class="d-flex align-items-center gap-2">
          <a href="index.html#contact" class="btn btn-pill">Contact Us</a>
          <button id="closeBtn" class="btn btn-pill" type="button" aria-label="Close menu" data-close>
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
      </div>

      <div class="flex-grow-1 d-flex align-items-center justify-content-center">
        <nav class="text-center overlay-links" aria-label="Site">
          <a class="overlay-link" href="index.html#home" data-close>Home</a>
          <a class="overlay-link" href="projects.html" data-close>Our Projects</a>
          <a class="overlay-link" href="about.html" data-close>About Us</a>
          <a class="overlay-link" href="blog.html" data-close>Blog</a>
        </nav>
      </div>

      <div class="pb-4 text-center text-white-50 small">
        <span>© <span id="yearNow"></span> Kurva. Crafted for performance & SEO.</span>
      </div>
    </div>
  </div>

  <style>
    .overlay-nav {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .92);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .28s var(--ease);
      z-index: 9999;
    }

    .overlay-nav.open {
      opacity: 1;
      pointer-events: auto;
    }

    .overlay-links {
      display: flex;
      flex-direction: column;
      gap: 34px;
      font-family: var(--font-display);
      letter-spacing: .4px;
    }

    .overlay-link {
      font-size: clamp(34px, 5vw, 56px);
      font-weight: 300;
      color: rgba(255, 255, 255, .90);
      transition: transform .22s var(--ease), opacity .22s var(--ease);
    }

    .overlay-link:hover {
      transform: translateY(-2px);
      opacity: .95;
    }
  </style>

  <main>
    <section class="container post-hero">
      <div class="soft-line mb-4" style="opacity:.75"></div>

      <div class="row g-4 align-items-start">
        <div class="col-lg-8 reveal">
          <h1 class="post-title" id="postTitle">Loading…</h1>

          <div class="post-meta" id="postMeta"></div>

          <p class="post-lead" id="postLead"></p>

          <!-- Share buttons (desktop akan tetap di sini, mobile akan dipindah via JS) -->
          <div class="share-wrap" aria-label="Share article">
            <button class="share-btn" type="button" id="shareWA" title="Share WhatsApp"><i class="bi bi-whatsapp"></i>
              WhatsApp</button>
            <button class="share-btn" type="button" id="shareFB" title="Share Facebook"><i class="bi bi-facebook"></i>
              Facebook</button>
            <button class="share-btn" type="button" id="shareX" title="Share X"><i class="bi bi-twitter-x"></i>
              X</button>
            <button class="share-btn" type="button" id="shareIN" title="Share LinkedIn"><i class="bi bi-linkedin"></i>
              LinkedIn</button>
            <button class="share-btn" type="button" id="copyLink" title="Copy Link"><i class="bi bi-link-45deg"></i>
              Copy</button>
            <span class="share-note" id="copyNote" aria-live="polite"></span>
          </div>

          <figure class="main-figure">
            <img id="heroImg" src="" alt="" fetchpriority="high" decoding="async" />
            <figcaption id="heroCap"></figcaption>
          </figure>

          <div class="note mt-3 d-none" id="notFoundNote">
            Artikel yang kamu cari tidak ditemukan. Kami tampilkan artikel default. Silakan kembali ke halaman Blog
            untuk melihat daftar artikel lainnya.
          </div>
        </div>

        <!-- Sidebar TOC + Baca Juga -->
        <div class="col-lg-4 reveal">
          <div class="toc-card" id="tocCard">
            <div class="toc-head" id="tocToggle" role="button" tabindex="0" aria-expanded="true"
              aria-controls="tocBody">
              <span><i class="bi bi-list-ul me-2"></i>Daftar Isi</span>
              <i class="bi bi-chevron-down" id="tocChevron"></i>
            </div>
            <div class="toc-body" id="tocBody">
              <ul class="toc-list" id="tocList"></ul>
            </div>
          </div>

          <div class="mt-3">
            <div class="sec-h" style="font-size:18px; margin:0 0 10px;">Baca Juga</div>
            <div class="row g-3" id="readAlso"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTENT -->
    <section class="container content-wrap">
      <div class="row g-4">
        <div class="col-lg-8">
          <article class="post-article" id="articleContent"></article>

          <!-- FAQ -->
          <div class="mt-4" id="faqWrap" style="display:none;">
            <h2 class="sec-h">FAQ</h2>
            <div class="accordion accordion-dark" id="faqAcc"></div>
          </div>

          <!-- =========================
                    TAMBAHAN: Share dock (mobile) - posisinya di bawah artikel / sebelum profil penulis
                    ========================= -->
          <div class="mt-4" id="shareDockMobile" style="display:none;">
            <div class="soft-line mb-3"></div>
            <h2 class="sec-h mb-2" style="font-size:18px;">Bagikan Artikel</h2>
            <div id="shareDockSlot"></div>
          </div>

          <!-- Profil penulis -->
          <div class="mt-4">
            <h2 class="sec-h">Profil Penulis</h2>
            <div class="author-box">
              <div class="author-avatar" aria-hidden="true">
                <img id="authorAvatar"
                  src="https://images.unsplash.com/photo-1520975682031-a76f7c3f41b8?auto=format&fit=crop&w=200&q=80"
                  alt="Avatar penulis" loading="lazy" decoding="async">
              </div>
              <div>
                <p class="author-name" id="authorName">Muhammad Affizar Ibrahim Alkautsar</p>
                <p class="author-bio" id="authorBio">
                  Web Developer berbasis Bootstrap HTML, fokus Optimasi SEO, AI Overview, dan PageSpeed. Menulis tentang
                  desain modern,
                  real estate, dan praktik web performance untuk brand premium.
                </p>
              </div>
            </div>
          </div>

          <!-- CTA WhatsApp -->
          <div class="mt-4">
            <div class="soft-line mb-3"></div>
            <div class="row g-3 align-items-center">
              <div class="col-lg-8">
                <h2 class="sec-h mb-1" style="font-size:22px;">Ingin konsultasi proyek atau strategi investasi?</h2>
                <p class="p mb-0" style="color:rgba(255,255,255,.74); font-size:13px; line-height:1.9;">
                  Kirim kebutuhan, lokasi, budget range, dan timeline. Tim Kurva akan merespons dengan rekomendasi yang
                  rapi dan realistis.
                </p>
              </div>
              <div class="col-lg-4 text-lg-end">
                <a class="btn btn-pill" id="ctaWA" href="#" rel="noopener noreferrer" target="_blank">
                  <i class="bi bi-whatsapp me-2"></i>WhatsApp Kurva
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Right rail -->
        <div class="col-lg-4">
          <div class="sec-h reveal" style="font-size:18px;">Artikel Terkait</div>
          <div class="row g-3" id="relatedPosts"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="container py-5">
    <div class="soft-line mb-4"></div>
    <div class="row g-4">
      <div class="col-lg-6">
        <div class="k-brand mb-2">
          <span class="k-mark" aria-hidden="true"></span>
          <span>Kurva</span>
        </div>
        <p class="mb-0" style="color:var(--muted); max-width:60ch;">
          Modern spaces—calm, functional, and crafted. Built on Bootstrap, optimized for SEO, AI Overview, and
          PageSpeed.
        </p>
      </div>
      <div class="col-lg-6">
        <div class="d-flex flex-wrap gap-2 justify-content-lg-end">
          <a class="btn btn-pill" href="index.html#home">Top</a>
          <a class="btn btn-pill" href="projects.html">Projects</a>
          <a class="btn btn-pill" href="about.html">About</a>
          <a class="btn btn-pill" href="blog.html">Blog</a>
          <a class="btn btn-pill" href="index.html#contact">Contact</a>
        </div>
      </div>
      <div class="col-12 small text-white-50">
        © <span id="yearNow2"></span> Kurva • Author: Muhammad Affizar Ibrahim Alkautsar
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS (defer) -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>

  <!-- Page JS (defer): dynamic post + TOC + share + overlay nav + reveal -->
  <script defer>
    (function () {
      // =========================
      // 1) DATA: semua artikel cukup ditambah di sini
      // =========================
      const SITE_URL = (window.location && window.location.origin) ? window.location.origin : "https://example.com";
      const WA_NUMBER = "6281234567890"; // TODO: ganti nomor WA kamu (tanpa +)
      const WA_DEFAULT_MESSAGE = "Halo Kurva, saya ingin konsultasi terkait artikel dan kebutuhan proyek saya.";

      const POSTS = {
        "the-future-of-urban-living": {
          title: "The Future of Urban Living: Why Co-Living Spaces Are on the Rise",
          description: "Mengapa co-living naik daun? Baca panduan lengkap tentang tren urban living, konsep ruang, dan strategi investasi yang cerdas.",
          datePublished: "2025-06-02",
          dateModified: "2025-06-02",
          readingTime: "7 min read",
          tag: "Urban Living",
          hero: {
            img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1200&q=80",
            alt: "Ruang bersama co-living modern dengan pencahayaan natural",
            cap: "Foto: Co-living modern dengan area komunal yang mendorong interaksi dan efisiensi ruang."
          },
          lead: "Co-living bukan sekadar tren—ini jawaban praktis untuk kota yang makin padat, biaya hidup yang naik, dan kebutuhan komunitas yang makin penting. Di artikel ini, kamu akan melihat alasan pertumbuhannya, prinsip desainnya, dan bagaimana peluangnya untuk penghuni maupun investor.",
          contentHtml: `
                 <h2>Why Co-Living Is Growing So Fast</h2>
                 <p>
                   Di banyak kota, biaya sewa naik lebih cepat daripada pendapatan. Co-living menawarkan solusi lewat konsep ruang privat yang ringkas,
                   ditopang fasilitas komunal yang nyaman—hasilnya lebih efisien tanpa mengorbankan kualitas hidup.
                 </p>
     
                 <h3>Affordability Without Losing Quality</h3>
                 <p>
                   Model pricing co-living sering bundling (internet, utilities, cleaning). Ini membuat biaya bulanan lebih predictable dan cocok untuk
                   profesional muda maupun remote worker.
                 </p>
     
                 <h3>Community as a Feature</h3>
                 <p>
                   Co-living dirancang untuk interaksi: shared kitchen, lounge, coworking, hingga event komunitas. Untuk banyak orang, “komunitas” adalah value utama.
                 </p>
     
                 <blockquote>
                   “Ruang terbaik bukan yang paling besar, tapi yang paling tepat—mendukung rutinitas, relasi, dan ketenangan.”
                   <cite>— Kurva Editorial Notes</cite>
                 </blockquote>
     
                 <div class="promo" aria-label="Promo GIF 1">
                   <img
                     src="https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif"
                     alt="Promo GIF: modern design motion"
                     loading="lazy"
                     decoding="async"
                   />
                 </div>
     
                 <h2>Design Principles That Make Co-Living Work</h2>
                 <p>
                   Kalau co-living terasa “ramai”, biasanya masalahnya bukan konsepnya—melainkan desain dan operasionalnya.
                   Berikut prinsip yang sering jadi pembeda.
                 </p>
     
                 <h3>Clear Zoning: Private vs Social</h3>
                 <p>
                   Area privat perlu tetap “aman” dan tenang. Area sosial harus mudah diakses, tapi tidak mengganggu area tidur.
                   Zoning yang jelas = konflik berkurang.
                 </p>
     
                 <figure class="support-figure">
                   <img
                     src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1800&q=80"
                     alt="Interior minimal modern untuk hunian bersama"
                     loading="lazy"
                     decoding="async"
                   />
                   <figcaption>
                     Deskripsi gambar: interior minimal dengan sirkulasi jelas membantu penghuni berbagi ruang tanpa terasa sempit.
                   </figcaption>
                 </figure>
     
                 <h3>Acoustic & Privacy Details</h3>
                 <p>
                   Panel akustik, sealing pintu, layout koridor, sampai pemilihan material—semuanya berpengaruh pada kenyamanan.
                   Privasi itu bukan bonus; itu kebutuhan.
                 </p>
     
                 <h2>Investor Perspective: Opportunity & Risk</h2>
                 <p>
                   Untuk investor, co-living menarik karena potensi yield lebih tinggi. Tapi operasionalnya juga lebih kompleks:
                   tenant turnover, maintenance, dan management komunitas harus rapi.
                 </p>
     
                 <h3>Metrics to Watch</h3>
                 <ul>
                   <li>Occupancy rate dan seasonality</li>
                   <li>Operating expense per unit</li>
                   <li>Churn rate dan biaya re-leasing</li>
                   <li>Net operating income (NOI)</li>
                 </ul>
     
                 <figure class="support-figure">
                   <img
                     src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=1800&q=80"
                     alt="Perencanaan investasi properti"
                     loading="lazy"
                     decoding="async"
                   />
                   <figcaption>
                     Deskripsi gambar: perencanaan investasi perlu melihat biaya operasional dan occupancy, bukan hanya harga sewa.
                   </figcaption>
                 </figure>
     
                 <div class="promo" aria-label="Promo GIF 2">
                   <img
                     src="https://media.giphy.com/media/l0HlQ7LRalQqdWfao/giphy.gif"
                     alt="Promo GIF: growth animation"
                     loading="lazy"
                     decoding="async"
                   />
                 </div>
     
                 <h2>Conclusion</h2>
                 <p>
                   Co-living akan terus tumbuh selama kota makin padat dan kebutuhan hidup praktis meningkat. Kunci suksesnya ada pada
                   desain yang menghormati privasi, fasilitas komunal yang benar-benar berguna, dan manajemen yang konsisten.
                 </p>
               `,
          faq: [
            {
              q: "Apa itu co-living dan bedanya dengan kos biasa?",
              a: "Co-living adalah model hunian berbagi yang dirancang profesional: ada area privat yang layak + fasilitas komunal yang mendukung komunitas dan efisiensi biaya (internet, utilities, cleaning, coworking)."
            },
            {
              q: "Apakah co-living cocok untuk investor?",
              a: "Cocok di area urban dengan demand tinggi. Namun perlu SOP operasional yang kuat, strategi pricing, dan kontrol maintenance."
            },
            {
              q: "Apa risiko terbesar co-living?",
              a: "Risiko utama: occupancy turun, biaya operasional naik, dan mismatch target market. Mitigasi dengan riset lokasi, desain fleksibel, serta manajemen komunitas yang konsisten."
            }
          ],
          readAlso: [
            {
              slug: "the-rise-of-smart-homes",
              title: "The Rise of Smart Homes: How Technology Is Reshaping Everyday Living",
              desc: "Apa saja fitur yang benar-benar berguna, dan bagaimana mengukur ROI dari smart home?",
              img: "https://images.unsplash.com/photo-1558002038-1055907df827?auto=format&fit=crop&w=1200&q=80"
            },
            {
              slug: "sustainable-living",
              title: "Sustainable Living: How Eco-Friendly Homes Are Shaping the Future",
              desc: "Material, energi, dan desain pasif—strategi rumah hemat biaya jangka panjang.",
              img: "https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1200&q=80"
            }
          ],
          related: [
            {
              slug: "the-rise-of-smart-homes",
              title: "The Rise of Smart Homes",
              desc: "Teknologi yang benar-benar meningkatkan kenyamanan—tanpa membuat rumah jadi rumit.",
              img: "https://images.unsplash.com/photo-1558002038-1055907df827?auto=format&fit=crop&w=1200&q=80"
            },
            {
              slug: "sustainable-living",
              title: "Sustainable Living",
              desc: "Desain pasif, material efisien, dan strategi rumah hemat energi.",
              img: "https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1200&q=80"
            },
            {
              slug: "real-estate-remains-resilient",
              title: "Why Real Estate Remains Resilient",
              desc: "Mengapa properti sering tahan banting dan cara membaca peluangnya.",
              img: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=1200&q=80"
            }
          ]
        },

        "the-rise-of-smart-homes": {
          title: "The Rise of Smart Homes: How Technology Is Reshaping Everyday Living",
          description: "Teknologi rumah pintar yang benar-benar berguna, cara memilih fitur, dan menghitung ROI.",
          datePublished: "2025-06-10",
          dateModified: "2025-06-10",
          readingTime: "6 min read",
          tag: "Smart Home",
          hero: {
            img: "https://images.unsplash.com/photo-1558002038-1055907df827?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1558002038-1055907df827?auto=format&fit=crop&w=1200&q=80",
            alt: "Smart home technology",
            cap: "Foto: Teknologi rumah pintar untuk kenyamanan dan efisiensi."
          },
          lead: "Smart home bukan soal gimmick. Artikel ini membahas fitur yang benar-benar meningkatkan kenyamanan dan cara menghitung dampak biaya/manfaatnya.",
          contentHtml: `
                 <h2>Smart Homes: Practical First</h2>
                 <p>Konten artikel ini bisa kamu isi nanti. Struktur dan SEO-nya sudah siap.</p>
                 <h2>Conclusion</h2>
                 <p>Pilih fitur yang relevan dengan rutinitas, bukan yang sekadar terlihat keren.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "sustainable-living": {
          title: "Sustainable Living: How Eco-Friendly Homes Are Shaping the Future",
          description: "Strategi rumah hemat energi: desain pasif, material, dan kebiasaan yang menekan biaya jangka panjang.",
          datePublished: "2025-06-12",
          dateModified: "2025-06-12",
          readingTime: "6 min read",
          tag: "Sustainability",
          hero: {
            img: "https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1200&q=80",
            alt: "Eco friendly home",
            cap: "Foto: Sustainable living—efisiensi energi dan material yang tahan lama."
          },
          lead: "Rumah eco-friendly bukan hanya ‘hijau’, tapi juga strategi biaya jangka panjang. Ini prinsip yang paling berdampak.",
          contentHtml: `
                 <h2>Passive Design Matters</h2>
                 <p>Konten artikel ini bisa kamu isi nanti. Struktur dan SEO-nya sudah siap.</p>
                 <h2>Conclusion</h2>
                 <p>Efisiensi energi dimulai dari desain, lalu kebiasaan.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "real-estate-remains-resilient": {
          title: "Why Real Estate Remains Resilient",
          description: "Mengapa properti sering tahan banting dan bagaimana membaca peluangnya secara rasional.",
          datePublished: "2025-06-14",
          dateModified: "2025-06-14",
          readingTime: "5 min read",
          tag: "Investment",
          hero: {
            img: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=1200&q=80",
            alt: "Real estate investment",
            cap: "Foto: Analisis peluang properti membutuhkan data dan disiplin."
          },
          lead: "Properti bukan selalu ‘pasti untung’, tapi sering resilient bila dipilih dengan benar. Ini cara melihat risikonya.",
          contentHtml: `
                 <h2>Resilience Comes From Fundamentals</h2>
                 <p>Konten artikel ini bisa kamu isi nanti. Struktur dan SEO-nya sudah siap.</p>
                 <h2>Conclusion</h2>
                 <p>Fokus pada cashflow, lokasi, dan biaya operasional.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "real-estate-smart-investment": {
          title: "Getting Started in Real Estate: A Beginner’s Guide to Smart Investment",
          description: "Panduan pemula real estate: mindset, langkah awal, dan cara pilih aset yang rasional.",
          datePublished: "2025-06-02",
          dateModified: "2025-06-02",
          readingTime: "6 min read",
          tag: "Basics",
          hero: {
            img: "https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=1200&q=80",
            alt: "Planner and miniature house concept",
            cap: "Foto: Memulai investasi butuh rencana dan disiplin."
          },
          lead: "Mulai dari tujuan, pahami cashflow, dan jangan lompat sebelum punya data. Ini peta jalan untuk pemula.",
          contentHtml: `
                 <h2>Start With Your Goal</h2>
                 <p>Konten placeholder—isi nanti sesuai kebutuhan.</p>
                 <h2>Conclusion</h2>
                 <p>Mulai kecil, konsisten, dan ukur risiko.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "vacation-rental-properties": {
          title: "Vacation Rental Properties: How to Turn Getaways Into Profitable Assets",
          description: "Cara melihat peluang vacation rental: demand, operasional, dan strategi pricing.",
          datePublished: "2025-06-02",
          dateModified: "2025-06-02",
          readingTime: "6 min read",
          tag: "Rental",
          hero: {
            img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1600&q=80",
            imgOg: "https://images.unsplash.com/photo-1505691723518-36a5ac3b2d65?auto=format&fit=crop&w=1200&q=80",
            alt: "Vacation rental house with pool",
            cap: "Foto: Vacation rental butuh manajemen yang rapi."
          },
          lead: "Vacation rental bisa profit tinggi, tapi butuh sistem operasional, maintenance, dan strategi review.",
          contentHtml: `
                 <h2>Demand First</h2>
                 <p>Konten placeholder—isi nanti sesuai kebutuhan.</p>
                 <h2>Conclusion</h2>
                 <p>Bangun sistem: cleaning, check-in, dan pricing.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        /* =========================
           TAMBAHAN: 3 ARTIKEL BARU (slug harus sama dengan blog.html)
           ========================= */
        "property-market-cycles": {
          title: "Property Market Cycles: Cara Membaca Naik-Turun Harga Secara Tenang",
          description: "Pahami siklus pasar properti, indikator sederhana, dan cara ambil keputusan tanpa panik.",
          datePublished: "2025-06-18",
          dateModified: "2025-06-18",
          readingTime: "6 min read",
          tag: "Basics",
          hero: {
            img: "https://images.unsplash.com/photo-1454165205744-3b78555e5572?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1454165205744-3b78555e5572?auto=format&fit=crop&w=1200&q=80",
            alt: "Grafik dan dokumen analisis pasar",
            cap: "Foto: Membaca data pasar membantu keputusan tetap rasional."
          },
          lead: "Harga properti bergerak dalam pola. Dengan memahami siklus, kamu bisa lebih tenang menentukan timing, strategi, dan mitigasi risiko.",
          contentHtml: `
                 <h2>Apa Itu Market Cycle?</h2>
                 <p>Siklus pasar biasanya bergerak dari pemulihan, ekspansi, oversupply, lalu koreksi. Kuncinya adalah memahami fase, bukan menebak puncak.</p>
                 <h2>Indikator yang Bisa Kamu Pantau</h2>
                 <ul>
                   <li>Permintaan (inquiry, viewing, transaksi)</li>
                   <li>Supply (stok listing, proyek baru)</li>
                   <li>Harga sewa & vacancy</li>
                   <li>Suku bunga & akses kredit</li>
                 </ul>
                 <h2>Kesimpulan</h2>
                 <p>Jangan terpaku “harga pasti naik”. Pegang data sederhana dan rancang strategi sesuai fase.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "rental-yield-vs-cap-rate": {
          title: "Rental Yield vs Cap Rate: Mana yang Lebih Relevan untuk Investor Pemula?",
          description: "Bedakan rental yield dan cap rate, kapan dipakai, dan contoh hitung singkat.",
          datePublished: "2025-06-20",
          dateModified: "2025-06-20",
          readingTime: "7 min read",
          tag: "Investment",
          hero: {
            img: "https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=1200&q=80",
            alt: "Perhitungan finansial di meja kerja",
            cap: "Foto: Angka yang benar membantu keputusan investasi lebih disiplin."
          },
          lead: "Banyak investor pemula hanya melihat 'yield' tanpa memasukkan biaya. Cap rate membantu melihat gambaran lebih realistis—ini cara membedakannya.",
          contentHtml: `
                 <h2>Rental Yield: Cara Cepat</h2>
                 <p>Rental yield biasanya menghitung sewa tahunan dibanding harga beli. Cocok untuk screening awal.</p>
                 <h2>Cap Rate: Lebih Realistis</h2>
                 <p>Cap rate memakai NOI (net operating income), yaitu sewa dikurangi biaya operasional. Ini lebih mendekati performa nyata.</p>
                 <h2>Kesimpulan</h2>
                 <p>Gunakan yield untuk filter awal, lalu pakai cap rate untuk keputusan final.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        },

        "interior-layout-small-space": {
          title: "Interior Layout for Small Space: 9 Prinsip Biar Apartemen Kecil Terasa Lega",
          description: "Zoning, pencahayaan, storage, dan trik layout yang benar-benar terasa efeknya.",
          datePublished: "2025-06-22",
          dateModified: "2025-06-22",
          readingTime: "6 min read",
          tag: "Design",
          hero: {
            img: "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=1800&q=80",
            imgOg: "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=1200&q=80",
            alt: "Interior apartemen kecil dengan layout rapi",
            cap: "Foto: Layout dan storage yang tepat bikin ruang kecil terasa lapang."
          },
          lead: "Ruang kecil tidak harus terasa sempit. Dengan zoning yang jelas, storage pintar, dan pencahayaan yang benar, kamu bisa dapat rasa lega tanpa renovasi besar.",
          contentHtml: `
                 <h2>Mulai dari Zoning</h2>
                 <p>Pisahkan area tidur, kerja, dan santai dengan cara halus: karpet, lighting, atau rak terbuka.</p>
                 <h2>Gunakan Storage Vertikal</h2>
                 <p>Manfaatkan dinding, kabinet tinggi, dan under-bed storage untuk mengurangi clutter.</p>
                 <h2>Kesimpulan</h2>
                 <p>Ruang kecil menang di disiplin: minim clutter, layout rapi, dan pencahayaan berlapis.</p>
               `,
          faq: [],
          readAlso: [],
          related: []
        }
      };

      // =========================
      // 2) UTIL
      // =========================
      function qs(name) {
        return new URLSearchParams(window.location.search).get(name);
      }
      function safeText(s) {
        return String(s || "").trim();
      }
      function setMeta(name, content) {
        const el = document.querySelector(`meta[name="${name}"]`);
        if (el) el.setAttribute('content', content);
      }
      function setOG(prop, content) {
        const el = document.querySelector(`meta[property="${prop}"]`);
        if (el) el.setAttribute('content', content);
      }
      function ensureCanonical(url) {
        const link = document.querySelector('link[rel="canonical"]');
        if (link) link.setAttribute('href', url);
      }
      function formatDateID(iso) {
        const d = new Date(iso + "T00:00:00");
        const opts = { year: 'numeric', month: 'short', day: 'numeric' };
        return d.toLocaleDateString('en-US', opts);
      }
      function slugify(text) {
        return String(text || "")
          .toLowerCase()
          .trim()
          .replace(/[^\w\s-]/g, '')
          .replace(/\s+/g, '-')
          .replace(/-+/g, '-');
      }

      /* =========================
         TAMBAHAN: FALLBACK BIAR "BACA JUGA" & "ARTIKEL TERKAIT" TIDAK KOSONG
         ========================= */
      function pickFallbackPosts(currentSlug, count, preferTag) {
        const list = Object.entries(POSTS)
          .filter(([s, p]) => s !== currentSlug && p && p.title)
          .map(([s, p]) => ({ slug: s, ...p }));

        list.sort((a, b) => {
          const as = (preferTag && a.tag === preferTag) ? 2 : 0;
          const bs = (preferTag && b.tag === preferTag) ? 2 : 0;
          const ai = (a.hero && a.hero.img) ? 1 : 0;
          const bi = (b.hero && b.hero.img) ? 1 : 0;
          return (bs + bi) - (as + ai);
        });

        const out = [];
        for (const item of list) {
          out.push(item);
          if (out.length >= count) break;
        }
        return out;
      }

      function normalizeCardData(p) {
        const img = (p.hero && (p.hero.imgOg || p.hero.img)) ? (p.hero.imgOg || p.hero.img) : "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1200&q=80";
        const desc = safeText(p.description) || safeText(p.lead) || "Baca ringkasan dan insight penting di artikel ini.";
        return { img, desc };
      }
      /* =========================
         END TAMBAHAN
         ========================= */

      // =========================
      // 3) PICK POST
      // =========================
      const slug = qs("post") || "the-future-of-urban-living";
      let post = POSTS[slug];
      const notFound = !post;

      if (!post) {
        post = POSTS["the-future-of-urban-living"];
      }

      const canonicalUrl = notFound
        ? (SITE_URL + "/post.html")
        : (SITE_URL + "/post.html?post=" + encodeURIComponent(slug));

      // =========================
      // 4) INJECT CONTENT
      // =========================
      document.getElementById("postTitle").textContent = post.title;
      document.getElementById("postLead").textContent = post.lead;

      document.getElementById("postMeta").innerHTML = `
             <span class="m"><i class="bi bi-calendar3"></i> ${formatDateID(post.datePublished)}</span>
             <span class="m"><i class="bi bi-clock"></i> ${post.readingTime}</span>
             <span class="m"><i class="bi bi-tag"></i> ${post.tag}</span>
           `;

      const heroImg = document.getElementById("heroImg");
      heroImg.src = post.hero.img;
      heroImg.alt = post.hero.alt;
      document.getElementById("heroCap").textContent = post.hero.cap;

      const article = document.getElementById("articleContent");
      article.innerHTML = post.contentHtml;

      if (notFound) {
        document.getElementById("notFoundNote").classList.remove("d-none");
      }

      // =========================
      // 5) SEO META
      // =========================
      document.title = "Kurva — " + post.title;

      const desc = safeText(post.description);
      setMeta("description", desc);
      setOG("og:title", post.title);
      setOG("og:description", desc);
      setOG("og:type", "article");
      setOG("og:url", canonicalUrl);
      setOG("og:image", post.hero.imgOg);

      setMeta("twitter:title", post.title);
      setMeta("twitter:description", desc);
      setMeta("twitter:image", post.hero.imgOg);

      ensureCanonical(canonicalUrl);
      // ... KODE KAMU YANG SUDAH ADA TETAP ...

      // =========================
      // 5) SEO META (FIXED, SINGLE SOURCE OF TRUTH)
      // =========================
      document.title = "Kurva — " + post.title;

      // domain real
      const ORIGIN = (window.location && window.location.origin) ? window.location.origin : SITE_URL;

      // canonical real (bukan example.com)
      const canonicalFixed = notFound
        ? (ORIGIN + "/post.html")
        : (ORIGIN + "/post.html?post=" + encodeURIComponent(slug));

      // description wajib ada
      const descFixed =
        safeText(post.description) ||
        safeText(post.lead) ||
        "Kurva Journal: insight, ide, dan update seputar properti, desain, arsitektur modern, serta pengembangan ruang.";

      // og image fallback
      const ogImgFixed = (post.hero && (post.hero.imgOg || post.hero.img))
        ? (post.hero.imgOg || post.hero.img)
        : "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=1200&q=80";

      // apply meta sekali
      setMeta("description", descFixed);

      setOG("og:title", post.title);
      setOG("og:description", descFixed);
      setOG("og:type", "article");
      setOG("og:url", canonicalFixed);
      setOG("og:image", ogImgFixed);

      setMeta("twitter:title", post.title);
      setMeta("twitter:description", descFixed);
      setMeta("twitter:image", ogImgFixed);

      ensureCanonical(canonicalFixed);

      // JSON-LD Article (SINGLE, CONSISTENT)
      const ldArticle = {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": post.title,
        "description": descFixed,
        "image": [ogImgFixed],
        "author": { "@type": "Person", "name": "Muhammad Affizar Ibrahim Alkautsar" },
        "publisher": { "@type": "Organization", "name": "Kurva", "url": ORIGIN + "/" },
        "datePublished": post.datePublished,
        "dateModified": post.dateModified,
        "mainEntityOfPage": { "@type": "WebPage", "@id": canonicalFixed },
        "inLanguage": "id-ID"
      };
      document.getElementById("ldArticle").textContent = JSON.stringify(ldArticle);

      // =========================
      // ✅ TAMBAHAN SEO FIX (JANGAN HAPUS KODE DI ATAS)
      // Tujuan:
      // - meta description tidak boleh kosong
      // - canonical/og:url/JSON-LD pakai domain real (bukan example.com)
      // =========================
      (function seoFix() {
        // 1) Pastikan description selalu ada (audit Lighthouse sering gagal kalau empty)
        const descFixed =
          safeText(post.description) ||
          safeText(post.lead) ||
          "Kurva Journal: insight, ide, dan update seputar properti, desain, arsitektur modern, serta pengembangan ruang.";

        // 2) Gunakan domain saat ini (lebih benar untuk production)
        const ORIGIN = (window.location && window.location.origin) ? window.location.origin : SITE_URL;

        // 3) Canonical yang benar berdasarkan domain real
        const canonicalFixed = notFound
          ? (ORIGIN + "/post.html")
          : (ORIGIN + "/post.html?post=" + encodeURIComponent(slug));

        // 4) Terapkan ulang meta penting (override yang kosong/tidak cocok)
        setMeta("description", descFixed);
        setOG("og:description", descFixed);
        setMeta("twitter:description", descFixed);

        setOG("og:url", canonicalFixed);
        ensureCanonical(canonicalFixed);

        // image fallback kalau imgOg kosong
        const ogImgFixed = (post.hero && (post.hero.imgOg || post.hero.img)) ? (post.hero.imgOg || post.hero.img) : "";
        if (ogImgFixed) {
          setOG("og:image", ogImgFixed);
          setMeta("twitter:image", ogImgFixed);
        }

        // 5) Perbaiki JSON-LD Article agar konsisten dgn canonical real + descFixed
        // (hanya update script tag-nya, tidak mengubah struktur lain)
        try {
          const ldFixed = {
            ...ldArticle,
            description: descFixed,
            image: ogImgFixed ? [ogImgFixed] : ldArticle.image,
            publisher: { "@type": "Organization", "name": "Kurva", "url": ORIGIN + "/" },
            mainEntityOfPage: { "@type": "WebPage", "@id": canonicalFixed }
          };
          document.getElementById("ldArticle").textContent = JSON.stringify(ldFixed);
        } catch (e) {
          // no-op
        }
      })();
      // =========================
      // ✅ END TAMBAHAN SEO FIX
      // =========================

      // ... LANJUTAN KODE KAMU TETAP ...
    })();


    // JSON-LD Article
    const ldArticle = {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": post.title,
      "description": desc,
      "image": [post.hero.imgOg],
      "author": { "@type": "Person", "name": "Muhammad Affizar Ibrahim Alkautsar" },
      "publisher": { "@type": "Organization", "name": "Kurva", "url": SITE_URL + "/" },
      "datePublished": post.datePublished,
      "dateModified": post.dateModified,
      "mainEntityOfPage": { "@type": "WebPage", "@id": canonicalUrl },
      "inLanguage": "id-ID"
    };
    document.getElementById("ldArticle").textContent = JSON.stringify(ldArticle);

    // JSON-LD FAQ
    const faqList = Array.isArray(post.faq) ? post.faq : [];
    document.getElementById("ldFaq").textContent = JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": faqList.map(x => ({
        "@type": "Question",
        "name": x.q,
        "acceptedAnswer": { "@type": "Answer", "text": x.a }
      }))
    });

    // Render FAQ accordion
    const faqWrap = document.getElementById("faqWrap");
    const faqAcc = document.getElementById("faqAcc");
    if (faqList.length) {
      faqWrap.style.display = "";
      faqAcc.innerHTML = faqList.map((item, idx) => {
        const id = "fq" + (idx + 1);
        return `
                 <div class="accordion-item">
                   <h3 class="accordion-header">
                     <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#${id}">
                       ${item.q}
                     </button>
                   </h3>
                   <div id="${id}" class="accordion-collapse collapse" data-bs-parent="#faqAcc">
                     <div class="accordion-body">${item.a}</div>
                   </div>
                 </div>
               `;
      }).join("");
    } else {
      faqWrap.style.display = "none";
    }

    // =========================
    // 6) READ ALSO + RELATED
    // =========================
    const readAlso = document.getElementById("readAlso");
    const ra = Array.isArray(post.readAlso) ? post.readAlso : [];
    readAlso.innerHTML = ra.slice(0, 2).map(item => `
             <div class="col-12">
               <a class="mini-card d-block" href="post.html?post=${encodeURIComponent(item.slug)}">
                 <div class="mini-img">
                   <img src="${item.img}" alt="${item.title}" loading="lazy" decoding="async">
                 </div>
                 <div class="mini-body">
                   <div class="mini-title">${item.title}</div>
                   <div class="mini-desc">${item.desc}</div>
                   <span class="btn btn-pill btn-sm">Baca</span>
                 </div>
               </a>
             </div>
           `).join("");

    const relatedWrap = document.getElementById("relatedPosts");
    const rel = Array.isArray(post.related) ? post.related : [];
    relatedWrap.innerHTML = rel.slice(0, 3).map(item => `
             <div class="col-12 reveal">
               <div class="mini-card">
                 <div class="mini-img">
                   <img src="${item.img}" alt="${item.title}" loading="lazy" decoding="async">
                 </div>
                 <div class="mini-body">
                   <div class="mini-title">${item.title}</div>
                   <div class="mini-desc">${item.desc}</div>
                   <a class="btn btn-pill btn-sm" href="post.html?post=${encodeURIComponent(item.slug)}">Baca Selengkapnya</a>
                 </div>
               </div>
             </div>
           `).join("");

    /* =========================
       TAMBAHAN: render fallback jika kosong
       ========================= */
    // 6A) Fallback untuk "Baca Juga" (target 2 kartu)
    if (!ra.length || !readAlso.innerHTML.trim()) {
      const fb = pickFallbackPosts(slug, 2, post.tag).map(p => {
        const n = normalizeCardData(p);
        return {
          slug: p.slug,
          title: p.title,
          desc: n.desc,
          img: n.img
        };
      });

      readAlso.innerHTML = fb.slice(0, 2).map(item => `
               <div class="col-12">
                 <a class="mini-card d-block" href="post.html?post=${encodeURIComponent(item.slug)}">
                   <div class="mini-img">
                     <img src="${item.img}" alt="${item.title}" loading="lazy" decoding="async">
                   </div>
                   <div class="mini-body">
                     <div class="mini-title">${item.title}</div>
                     <div class="mini-desc">${item.desc}</div>
                     <span class="btn btn-pill btn-sm">Baca</span>
                   </div>
                 </a>
               </div>
             `).join("");
    }

    // 6B) Fallback untuk "Artikel Terkait" (target 3 kartu)
    if (!rel.length || !relatedWrap.innerHTML.trim()) {
      const fb2 = pickFallbackPosts(slug, 3, post.tag).map(p => {
        const n = normalizeCardData(p);
        return {
          slug: p.slug,
          title: p.title,
          desc: n.desc,
          img: n.img
        };
      });

      relatedWrap.innerHTML = fb2.slice(0, 3).map(item => `
               <div class="col-12 reveal">
                 <div class="mini-card">
                   <div class="mini-img">
                     <img src="${item.img}" alt="${item.title}" loading="lazy" decoding="async">
                   </div>
                   <div class="mini-body">
                     <div class="mini-title">${item.title}</div>
                     <div class="mini-desc">${item.desc}</div>
                     <a class="btn btn-pill btn-sm" href="post.html?post=${encodeURIComponent(item.slug)}">Baca Selengkapnya</a>
                   </div>
                 </div>
               </div>
             `).join("");
    }
    /* =========================
       END TAMBAHAN
       ========================= */

    // =========================
    // 7) TOC
    // =========================
    const tocList = document.getElementById('tocList');
    const headings = article.querySelectorAll('h2, h3');
    const used = new Map();
    tocList.innerHTML = "";

    headings.forEach(h => {
      const level = h.tagName.toLowerCase();
      const base = slugify(h.textContent);
      let id = base || 'section';

      if (used.has(id)) {
        used.set(id, used.get(id) + 1);
        id = id + '-' + used.get(id);
      } else {
        used.set(id, 1);
      }
      h.id = h.id || id;

      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + h.id;
      a.textContent = h.textContent;
      if (level === 'h3') li.className = 'toc-indent';

      li.appendChild(a);
      tocList.appendChild(li);
    });

    const tocCard = document.getElementById('tocCard');
    const tocToggle = document.getElementById('tocToggle');
    const tocChevron = document.getElementById('tocChevron');

    function setToc(open) {
      tocCard.classList.toggle('open', open);
      tocToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      tocChevron.className = open ? 'bi bi-chevron-up' : 'bi bi-chevron-down';
    }
    setToc(true);

    tocToggle.addEventListener('click', () => setToc(!tocCard.classList.contains('open')));
    tocToggle.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        setToc(!tocCard.classList.contains('open'));
      }
    });

    // Smooth scroll offset untuk TOC + anchor lain
    const headerOffset = 88;
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const id = a.getAttribute('href');
        if (!id || id === '#') return;
        const target = document.querySelector(id);
        if (!target) return;

        e.preventDefault();
        const top = target.getBoundingClientRect().top + window.pageYOffset - headerOffset;
        window.scrollTo({ top, behavior: 'smooth' });
        history.pushState(null, '', id);
      });
    });

    // =========================
    // 8) SHARE BUTTONS
    // =========================
    const shareUrl = encodeURIComponent(window.location.href);
    const shareTitle = encodeURIComponent(document.title);

    document.getElementById('shareWA').addEventListener('click', () => {
      window.open(`https://wa.me/?text=${shareTitle}%20-%20${shareUrl}`, '_blank', 'noopener,noreferrer');
    });
    document.getElementById('shareFB').addEventListener('click', () => {
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`, '_blank', 'noopener,noreferrer');
    });
    document.getElementById('shareX').addEventListener('click', () => {
      window.open(`https://twitter.com/intent/tweet?text=${shareTitle}&url=${shareUrl}`, '_blank', 'noopener,noreferrer');
    });
    document.getElementById('shareIN').addEventListener('click', () => {
      window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${shareUrl}`, '_blank', 'noopener,noreferrer');
    });

    const note = document.getElementById('copyNote');
    document.getElementById('copyLink').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(window.location.href);
        note.textContent = 'Link berhasil disalin.';
        setTimeout(() => note.textContent = '', 2000);
      } catch (err) {
        note.textContent = 'Gagal menyalin. Silakan copy manual dari address bar.';
        setTimeout(() => note.textContent = '', 2500);
      }
    });

    /* =========================
       TAMBAHAN: pindahkan share buttons ke bawah artikel saat mobile
       (tanpa duplikasi, jadi ID aman)
       ========================= */
    const shareWrapEl = document.querySelector('.share-wrap');
    const shareDockMobile = document.getElementById('shareDockMobile');
    const shareDockSlot = document.getElementById('shareDockSlot');

    const shareOriginParent = shareWrapEl ? shareWrapEl.parentElement : null;
    const shareOriginNext = shareWrapEl ? shareWrapEl.nextElementSibling : null;

    function placeShareByViewport() {
      if (!shareWrapEl || !shareDockMobile || !shareDockSlot || !shareOriginParent) return;

      const isMobile = window.matchMedia('(max-width: 991.98px)').matches;

      if (isMobile) {
        shareDockMobile.style.display = "";
        if (shareWrapEl.parentElement !== shareDockSlot) {
          shareDockSlot.appendChild(shareWrapEl);
        }
      } else {
        shareDockMobile.style.display = "none";
        if (shareWrapEl.parentElement !== shareOriginParent) {
          if (shareOriginNext) {
            shareOriginParent.insertBefore(shareWrapEl, shareOriginNext);
          } else {
            shareOriginParent.appendChild(shareWrapEl);
          }
        }
      }
    }

    placeShareByViewport();
    window.addEventListener('resize', placeShareByViewport, { passive: true });
    window.addEventListener('orientationchange', placeShareByViewport, { passive: true });
    /* =========================
       END TAMBAHAN
       ========================= */

    // =========================
    // 9) CTA WhatsApp
    // =========================
    const waText = encodeURIComponent(WA_DEFAULT_MESSAGE + " (Artikel: " + post.title + ")");
    document.getElementById("ctaWA").href = `https://wa.me/${WA_NUMBER}?text=${waText}`;

    // =========================
    // 10) OVERLAY NAV + YEAR + REVEAL
    // =========================
    const y = new Date().getFullYear();
    document.getElementById('yearNow').textContent = y;
    document.getElementById('yearNow2').textContent = y;

    const overlay = document.getElementById('overlayNav');
    const menuBtn = document.getElementById('menuBtn');
    const closeBtn = document.getElementById('closeBtn');

    function openMenu() {
      overlay.classList.add('open');
      overlay.setAttribute('aria-hidden', 'false');
      menuBtn.setAttribute('aria-expanded', 'true');
      document.body.style.overflow = 'hidden';
    }
    function closeMenu() {
      overlay.classList.remove('open');
      overlay.setAttribute('aria-hidden', 'true');
      menuBtn.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
    }

    menuBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.addEventListener('click', (e) => { if (e.target === overlay) closeMenu(); });
    document.querySelectorAll('[data-close]').forEach(el => el.addEventListener('click', () => closeMenu()));
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && overlay.classList.contains('open')) closeMenu(); });

    const items = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(ent => {
        if (ent.isIntersecting) {
          ent.target.classList.add('is-in');
          io.unobserve(ent.target);
        }
      });
    }, { threshold: 0.12 });
    items.forEach(el => io.observe(el));
    ;
  </script>
</body>

</html>
